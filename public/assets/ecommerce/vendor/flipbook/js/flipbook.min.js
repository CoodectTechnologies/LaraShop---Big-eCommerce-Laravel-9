/*
Real3D FlipBook
version 3.35
author http://codecanyon.net/user/creativeinteractivemedia/portfolio?ref=creativeinteractivemedia
*/
var FLIPBOOK=FLIPBOOK||{};!function(e,t,o,i){e.fn.flipBook=function(e){return new FLIPBOOK.Main(e,this)},e.fn.swipeBook=function(e){return e.viewMode="swipe",new FLIPBOOK.Main(e,this)},e.fn.flipBook.options={name:"",pages:[],tableOfContent:[],tableOfContentCloseOnClick:!0,thumbsCloseOnClick:!0,deeplinkingEnabled:!1,deeplinkingPrefix:"",assets:{preloader:"images/preloader.jpg",overlay:"images/overlay.png",flipMp3:"/assets/ecommerce/vendor/flipbook/mp3/turnPage.mp3",spinner:"images/spinner.gif",backgroundMp3:"mp3/background.mp3"},pdfUrl:null,pdfBrowserViewerIfMobile:!1,pdfBrowserViewerIfIE:!1,pdfBrowserViewerFullscreen:!0,pdfBrowserViewerFullscreenTarget:"_blank",rangeChunkSize:64,disableRange:!1,disableStream:!0,disableAutoFetch:!0,pdfAutoLinks:!1,htmlLayer:!0,rightToLeft:!1,startPage:0,sound:!0,backgroundColor:"rgb(81, 85, 88)",backgroundImage:"",backgroundPattern:"",backgroundTransparent:!1,thumbSize:130,loadAllPages:!1,loadPagesF:2,loadPagesB:1,autoplayOnStart:!1,autoplayInterval:3e3,autoplayLoop:!0,skin:"light",layout:"1",menuOverBook:!1,menuFloating:!1,menuBackground:"",menuShadow:"",menuMargin:0,menuPadding:0,menuTransparent:!1,menu2OverBook:!0,menu2Floating:!1,menu2Background:"",menu2Shadow:"",menu2Margin:0,menu2Padding:0,menu2Transparent:!0,skinColor:"",skinBackground:"",btnColor:"",btnBackground:"none",btnSize:14,btnRadius:2,btnMargin:2,btnPaddingV:10,btnPaddingH:10,btnShadow:"",btnTextShadow:"",btnBorder:"",btnColorHover:"",btnBackgroundHover:"",sideBtnColor:"#FFF",sideBtnBackground:"#00000033",sideBtnSize:30,sideBtnRadius:0,sideBtnMargin:0,sideBtnPaddingV:5,sideBtnPaddingH:0,sideBtnShadow:"",sideBtnTextShadow:"",sideBtnBorder:"",sideBtnColorHover:"#FFF",sideBtnBackgroundHover:"#00000066",floatingBtnColor:"#EEE",floatingBtnColorHover:"",floatingBtnBackground:"#00000044",floatingBtnBackgroundHover:"",floatingBtnSize:null,floatingBtnRadius:null,floatingBtnMargin:null,floatingBtnPadding:null,floatingBtnShadow:"",floatingBtnTextShadow:"",floatingBtnBorder:"",btnOrder:["currentPage","btnFirst","btnPrev","btnNext","btnLast","btnZoomIn","btnZoomOut","btnRotateLeft","btnRotateRight","btnAutoplay","btnSearch","btnSelect","btnBookmark","btnToc","btnThumbs","btnShare","btnPrint","btnDownloadPages","btnDownloadPdf","btnSound","btnExpand","btnClose"],currentPage:{enabled:!0,title:"Current page",vAlign:"top",hAlign:"left",marginH:0,marginV:0,color:"",background:""},btnFirst:{enabled:!1,title:"First page",iconFA:"flipbook-icon-angle-double-left",iconM:"flipbook-icon-first_page"},btnPrev:{enabled:!0,title:"Previous page",iconFA:"flipbook-icon-angle-left",iconM:"flipbook-icon-keyboard_arrow_left"},btnNext:{enabled:!0,title:"Next page",iconFA:"flipbook-icon-angle-right",iconM:"flipbook-icon-keyboard_arrow_right"},btnLast:{enabled:!1,title:"Last page",iconFA:"flipbook-icon-angle-double-right",iconM:"flipbook-icon-last_page"},btnZoomIn:{enabled:!0,title:"Zoom in",iconFA:"flipbook-icon-plus",iconM:"flipbook-icon-add"},btnZoomOut:{enabled:!0,title:"Zoom out",iconFA:"flipbook-icon-minus",iconM:"flipbook-icon-remove1"},btnRotateLeft:{enabled:!1,title:"Rotate left",iconFA:"flipbook-icon--undo"},btnRotateRight:{enabled:!1,title:"Rotate right",iconFA:"flipbook-icon--redo"},btnAutoplay:{enabled:!0,title:"Autoplay",iconFA:"flipbook-icon-play",iconM:"flipbook-icon-play_arrow",iconFA_alt:"flipbook-icon-pause",iconM_alt:"flipbook-icon-pause1"},btnSearch:{enabled:!1,title:"Search",iconFA:"flipbook-icon-search",iconM:"flipbook-icon-search1"},btnSelect:{enabled:!0,title:"Select tool",iconFA:"flipbook-icon-i-cursor",iconM:"flipbook-icon-text_format"},btnBookmark:{enabled:!0,title:"Bookmark",iconFA:"flipbook-icon-bookmark",iconM:"flipbook-icon-bookmark1"},btnToc:{enabled:!0,title:"Table of Contents",iconFA:"flipbook-icon-list-ol",iconM:"flipbook-icon-toc"},btnThumbs:{enabled:!0,title:"Pages",iconFA:"flipbook-icon-th-large",iconM:"flipbook-icon-view_module"},btnShare:{enabled:!0,title:"Share",iconFA:"flipbook-icon-share-alt",iconM:"flipbook-icon-share1",hideOnMobile:!0},btnPrint:{enabled:!0,title:"Print",iconFA:"flipbook-icon-print",iconM:"flipbook-icon-local_printshop",hideOnMobile:!0},btnDownloadPages:{enabled:!0,title:"Download pages",iconFA:"flipbook-icon-download",iconM:"flipbook-icon-file_download",url:"images/pages.zip",name:"allPages.zip"},btnDownloadPdf:{forceDownload:!1,enabled:!0,title:"Download PDF",iconFA:"flipbook-icon-file",iconM:"flipbook-icon-picture_as_pdf",url:null,openInNewWindow:!0,name:"allPages.pdf"},btnSound:{enabled:!0,title:"Volume",iconFA:"flipbook-icon-volume-up",iconFA_alt:"flipbook-icon-volume-off",iconM:"flipbook-icon-volume_up",iconM_alt:"flipbook-icon-volume_mute",hideOnMobile:!0},btnExpand:{enabled:!0,title:"Toggle fullscreen",iconFA:"flipbook-icon-expand",iconM:"flipbook-icon-fullscreen",iconFA_alt:"flipbook-icon-compress",iconM_alt:"flipbook-icon-fullscreen_exit"},btnClose:{title:"Close",iconFA:"flipbook-icon-times",iconM:"flipbook-icon-clear",hAlign:"right",vAlign:"top",size:20},btnShareIfMobile:!1,btnSoundIfMobile:!1,btnPrintIfMobile:!1,sideNavigationButtons:!0,hideMenu:!1,shareUrl:null,shareTitle:null,shareImage:null,whatsapp:{enabled:!0,icon:"flipbook-icon-whatsapp"},twitter:{enabled:!0,icon:"flipbook-icon-twitter"},facebook:{enabled:!0,icon:"flipbook-icon-facebook"},pinterest:{enabled:!0,icon:"flipbook-icon-pinterest-p"},email:{enabled:!0,icon:"flipbook-icon-envelope"},linkedin:{enabled:!0,icon:"flipbook-icon-linkedin"},digg:{enabled:!1,icon:"flipbook-icon-digg"},reddit:{enabled:!1,icon:"flipbook-icon-reddit-alien"},pdf:{annotationLayer:!1},pageTextureSize:2048,pageTextureSizeSmall:1500,thumbTextureSize:300,pageTextureSizeMobile:1500,pageTextureSizeMobileSmall:1024,viewMode:"webgl",singlePageMode:!1,singlePageModeIfMobile:!1,zoomMin:.95,zoomMax2:null,zoomSize:null,zoomStep:2,zoomTime:300,zoomReset:!1,zoomResetTime:300,wheelDisabledNotFullscreen:!1,arrowsDisabledNotFullscreen:!1,arrowsAlwaysEnabledForNavigation:!1,touchSwipeEnabled:!0,responsiveView:!0,responsiveViewRatio:1,responsiveViewTreshold:768,minPixelRatio:1,pageFlipDuration:1,contentOnStart:!1,thumbnailsOnStart:!1,searchOnStart:!1,sideMenuOverBook:!0,sideMenuOverMenu:!1,sideMenuOverMenu2:!0,sideMenuPosition:"left",lightBox:!1,lightBoxOpened:!1,lightBoxFullscreen:!1,lightboxCloseOnClick:!1,lightboxResetOnOpen:!0,lightboxBackground:null,lightboxBackgroundColor:null,lightboxBackgroundPattern:null,lightboxBackgroundImage:null,lightboxStartPage:null,lightboxMarginV:"0",lightboxMarginH:"0",lightboxCSS:"",lightboxPreload:!1,lightboxShowMenu:!1,lightboxCloseOnBack:!0,disableImageResize:!0,pan:0,panMax:10,panMax2:2,panMin:-10,panMin2:-2,tilt:0,tiltMax:0,tiltMax2:0,tiltMin:-20,tiltMin2:-5,rotateCameraOnMouseMove:!1,rotateCameraOnMouseDrag:!0,lights:!0,lightColor:16777215,lightPositionX:0,lightPositionZ:1400,lightPositionY:350,lightIntensity:.6,shadows:!0,shadowMapSize:1024,shadowOpacity:.2,shadowDistance:0,pageRoughness:1,pageMetalness:0,pageHardness:2,coverHardness:2,pageSegmentsW:10,pageSegmentsH:1,pageMiddleShadowSize:2,pageMiddleShadowColorL:"#999999",pageMiddleShadowColorR:"#777777",antialias:!1,preloaderText:"",fillPreloader:{enabled:!1,imgEmpty:"images/logo_light.png",imgFull:"images/logo_dark.png"},logoImg:"",logoUrl:"",logoCSS:"position:absolute;",logoHideOnMobile:!1,printMenu:!0,downloadMenu:!0,cover:!0,backCover:!0,pdfTextLayer:!0,annotationLayer:!0,googleAnalyticsTrackingCode:null,minimumAndroidVersion:6,linkColor:"rgba(0, 0, 0, 0)",linkColorHover:"rgba(255, 255, 0, 1)",linkOpacity:.4,linkTarget:"_blank",rightClickEnabled:!0,pageNumberOffset:0,flipSound:!0,backgroundMusic:!1,doubleClickZoomDisabled:!1,pageDragDisabled:!1,strings:{print:"Print",printLeftPage:"Print left page",printRightPage:"Print right page",printCurrentPage:"Print current page",printAllPages:"Print all pages",download:"Download",downloadLeftPage:"Download left page",downloadRightPage:"Download right page",downloadCurrentPage:"Download current page",downloadAllPages:"Download all pages",bookmarks:"Bookmarks",bookmarkLeftPage:"Bookmark left page",bookmarkRightPage:"Bookmark right page",bookmarkCurrentPage:"Bookmark current page",search:"Search",findInDocument:"Find in document",pagesFoundContaining:"pages found containing",noMatches:"No matches",matchesFound:"matches found",thumbnails:"Thumbnails",tableOfContent:"Table of Contents",share:"Share",pressEscToClose:"Press ESC to close",password:"Password"},mobile:{shadows:!1,pageSegmentsW:5}},FLIPBOOK.Main=function(e,i){var n=this;this.elem=i,this.$elem=jQuery(i),this.$body=jQuery("body"),this.body=this.$body[0],this.$window=jQuery(t),this.bodyHasVerticalScrollbar=function(){return n.body.scrollHeight>t.innerHeight},this.isZoomed=function(){return n.zoom>1},this.options={};var s,a=o.createElement("div").style,r=function(){for(var e="t,webkitT,MozT,msT,OT".split(","),t=0,o=e.length;t<o;t++)if(e[t]+"ransform"in a)return e[t].substr(0,e[t].length-1);return!1}(),l=/android/gi.test(navigator.appVersion),h=(/iphone|ipad/gi.test(navigator.appVersion),s="perspective",(""===r?s:(s=s.charAt(0).toUpperCase()+s.substr(1),r+s))in a);this.msie=t.navigator.userAgent.indexOf("MSIE "),this.isAndroid=l,this.has3d=h,void 0===FLIPBOOK.hasWebGl&&function(e){if(t.WebGLRenderingContext){for(var i=o.createElement("canvas"),n=["webgl","experimental-webgl","moz-webgl","webkit-3d"],s=!1,a=0;a<4;a++)try{if((s=i.getContext(n[a]))&&"function"==typeof s.getParameter)return e?{name:n[a],gl:s}:(FLIPBOOK.hasWebGl=!0,!0)}catch(e){}return FLIPBOOK.hasWebGl=!1,!1}FLIPBOOK.hasWebGl=!1}(),this.hasWebGl=FLIPBOOK.hasWebGl,function(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}else"Netscape"==navigator.appName&&(t=navigator.userAgent,null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1)));return e}()>0&&(this.hasWebGl=!1,this.options.isIE=!0),this.thumbsShowing=!1,this.bookmarkShowing=!1,this.searchingString=!1,this.tocShowing=!1,this.menuShowing=!0,this.fullscreenActive=!1;var d={2:{currentPage:{vAlign:"bottom",hAlign:"center"},btnAutoplay:{hAlign:"left"},btnSound:{hAlign:"left"},btnExpand:{hAlign:"right"},btnZoomIn:{hAlign:"right"},btnZoomOut:{hAlign:"right"},btnSearch:{hAlign:"left"},btnBookmark:{hAlign:"left"},btnToc:{hAlign:"left"},btnThumbs:{hAlign:"left"},btnShare:{hAlign:"right"},btnPrint:{hAlign:"right"},btnDownloadPages:{hAlign:"right"},btnDownloadPdf:{hAlign:"right"},btnSelect:{hAlign:"right"}},3:{menuTransparent:!0,menu2Transparent:!1,menu2OverBook:!1,menu2Padding:5,btnMargin:5,currentPage:{vAlign:"top",hAlign:"center"},btnPrint:{vAlign:"top",hAlign:"right"},btnDownloadPdf:{vAlign:"top",hAlign:"right"},btnDownloadPages:{vAlign:"top",hAlign:"right"},btnThumbs:{vAlign:"top",hAlign:"left"},btnToc:{vAlign:"top",hAlign:"left"},btnBookmark:{vAlign:"top",hAlign:"left"},btnSearch:{vAlign:"top",hAlign:"left"},btnSelect:{vAlign:"top",hAlign:"right"},btnShare:{vAlign:"top",hAlign:"right"},btnAutoplay:{hAlign:"right"},btnExpand:{hAlign:"right"},btnZoomIn:{hAlign:"right"},btnZoomOut:{hAlign:"right"},btnSound:{hAlign:"right"},menuPadding:5},4:{menu2Transparent:!1,menu2OverBook:!1,sideMenuOverMenu2:!1,currentPage:{vAlign:"top",hAlign:"center"},btnAutoplay:{vAlign:"top",hAlign:"left"},btnSound:{vAlign:"top",hAlign:"left"},btnExpand:{vAlign:"top",hAlign:"right"},btnZoomIn:{vAlign:"top",hAlign:"right"},btnZoomOut:{vAlign:"top",hAlign:"right"},btnSearch:{vAlign:"top",hAlign:"left"},btnBookmark:{vAlign:"top",hAlign:"left"},btnToc:{vAlign:"top",hAlign:"left"},btnThumbs:{vAlign:"top",hAlign:"left"},btnShare:{vAlign:"top",hAlign:"right"},btnPrint:{vAlign:"top",hAlign:"right"},btnDownloadPages:{vAlign:"top",hAlign:"right"},btnDownloadPdf:{vAlign:"top",hAlign:"right"},btnSelect:{vAlign:"top",hAlign:"right"}}},p={dark:{skinColor:"#EEE",btnColorHover:"#FFF",skinBackground:"#313538"},light:{skinColor:"#222",btnColorHover:"#000",skinBackground:"#FFF",floatingBtnColor:"#FFF",floatingBtnBackground:"#00000055"},gradient:{skinColor:"#EEE",btnColor:"#EEE",btnColorHover:"#FFF",skinBackground:"#313538DD",zoomMin:.85,menuOverBook:!0,menu2OverBook:!0,sideMenuOverMenu:!0,sideMenuOverMenu2:!0,menuBackground:"linear-gradient(to top, rgba(0, 0, 0, 0.65) 0%, transparent 100%)",menu2Background:"linear-gradient(to bottom, rgba(0, 0, 0, 0.65) 0%, transparent 100%)"}};for(var c in p)e.skin==c&&(e=jQuery.extend(!0,{},p[c],e));for(var c in d)String(e.layout)===c&&(e=jQuery.extend(!0,{},d[c],e));this.options=jQuery.extend(!0,{},jQuery.fn.flipBook.options,e);var u,g,b=this.options;if(b.isMobile=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),b.isMobile)for(var c in b.mobile)b[c]=b.mobile[c];function f(){b.pdfBrowserViewerFullscreen?t.open(b.pdfUrl,b.pdfBrowserViewerFullscreenTarget):jQuery('<object type="application/pdf"/>').width("100%").height("100%").attr("data",b.pdfUrl).appendTo(n.$elem)}function m(){if(!n.disposed){var e=t.location.hash,o=n.getPageFromHash();b.cover||o++,startPage=o,o<1?o=1:n.numPages&&o>n.numPages&&(o=n.numPages),o&&(o=b.rightToLeft&&b.pages&&b.pages.length?b.pages.length-o+1:o,n.started?n.Book&&(n.lightbox&&!FLIPBOOK.lightboxOpened&&(n.lightbox.openLightbox(),n.lightboxStart()),n.goToPage(o,-1==e.indexOf("flip"))):(b.startPage=startPage,b.lightBox&&(k(),b.lightBoxFullscreen&&setTimeout(function(){n.toggleExpand()},100))))}}function k(){if(b.fillPreloader.enabled){n.$fillPreloader=jQuery("<div>").addClass("flipbook-fillPreloader");var e=new Image;e.src=b.fillPreloader.imgEmpty,e.onload=function(){var t=new Image;t.src=b.fillPreloader.imgFull,t.onload=function(){jQuery(e).appendTo(n.$fillPreloader),n.$fillPreloaderImg=jQuery(t).appendTo(n.$fillPreloader),n.$fillPreloader.appendTo(n.wrapper),v()}}}else v()}function v(){n.initialized||(n.id=Date.now(),n.addPageItems(),b.pdfMode?n.initPdf():n.initJpg(),n.setLoadingProgress(.1),n.lightbox&&n.options.lightboxShowMenu&&n.createMenu(),n.initialized=!0)}function w(e){const i=e.getBoundingClientRect();return i.height>0&&i.top+i.height>=0&&i.top<=(t.innerHeight||o.documentElement.clientHeight)}this.strings=b.strings,b.pageShininess=b.pageShininess/2,this.s=0,b.googleAnalyticsTrackingCode&&(this.gaCode=b.googleAnalyticsTrackingCode,t.ga||function(e,t,o,i,n,s,a){e.GoogleAnalyticsObject=n,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,s=t.createElement(o),a=t.getElementsByTagName(o)[0],s.async=1,s.src="https://www.google-analytics.com/analytics.js",a.parentNode.insertBefore(s,a)}(t,o,"script",0,"ga"),ga("create",this.gaCode,"auto")),b.isMobile&&(b.singlePageMode=!!b.singlePageModeIfMobile||b.singlePageMode,b.viewModeMobile&&(b.viewMode=b.viewModeMobile),b.pageTextureSizeMobile&&(b.pageTextureSize=b.pageTextureSizeMobile),b.pageTextureSizeMobileSmall&&(b.pageTextureSizeSmall=b.pageTextureSizeMobileSmall),b.touchSwipeEnabled=!0),"3dSinglePage"==b.viewMode&&(b.singlePageMode=!0),"2dSinglePage"==b.viewMode&&(b.singlePageMode=!0,b.viewMode="2d"),b.singlePageMode&&("2d"!=b.viewMode&&"swipe"!=b.viewMode&&(b.viewMode="3d"),b.rightToLeft&&(b.viewMode="swipe"),b.cover=!0),b.singlePageMode&&"3d"==b.viewMode&&(b.rightToLeft=!1),"simple"==b.viewMode&&(b.viewMode="3d",b.instantFlip=!0),b.cover||(b.responsiveView=!1),b.sideMenuPosition=b.rightToLeft?"right":"left","webgl"==b.viewMode&&(!this.hasWebGl||parseFloat(!!(g=(u=(u||navigator.userAgent).toLowerCase()).match(/android\s([0-9\.]*)/))&&g[1])<b.minimumAndroidVersion&&this.isAndroid)&&(b.viewMode="3d"),"3d"!=b.viewMode||n.has3d||(b.viewMode="2d"),this.webgl="webgl"==b.viewMode,b.menuFloating&&(b.menuOverBook=!0,b.sideMenuOverMenu=!0),b.menu2Floating&&(b.menu2OverBook=!0,b.sideMenuOverMenu2=!0),b.menuTransparent&&(b.menuOverBook=!0,b.sideMenuOverMenu=!0,b.menuBackground="none"),b.menu2Transparent?(b.menu2OverBook=!0,b.sideMenuOverMenu2=!0,b.menu2Background="none"):b.sideMenuOverMenu2=!1,b.menuOverBook&&(b.sideMenuOverMenu=!0),b.menu2OverBook&&(b.sideMenuOverMenu2=!0),b.isMobile&&b.pdfBrowserViewerIfMobile&&b.pdfUrl?b.lightBox&&!b.lightBoxOpened?this.$elem.on("touched click",function(){f()}).css("cursor","pointer"):f():b.isIE&&b.pdfBrowserViewerIfIE&&b.pdfUrl?b.lightBox&&!b.lightBoxOpened?this.$elem.on("touched click",function(){f()}).css("cursor","pointer"):f():(b.pdfMode=Boolean(b.pdfUrl&&""!=b.pdfUrl)||b.pdfBase64,b.backgroundTransparent&&(b.backgroundColor="none"),this.wrapper=jQuery(o.createElement("div")).addClass("flipbook-main-wrapper"),""!=b.backgroundColor&&this.wrapper.css("background",b.backgroundColor),""!=b.backgroundPattern&&this.wrapper.css("background","url("+b.backgroundPattern+") repeat"),""!=b.backgroundImage&&(this.wrapper.css("background","url("+b.backgroundImage+") no-repeat"),this.wrapper.css("background-size","cover"),this.wrapper.css("background-position","center center")),this.bookLayer=jQuery(o.createElement("div")).addClass("flipbook-bookLayer").appendTo(n.wrapper),b.rightClickEnabled||this.bookLayer.bind("contextmenu",function(e){return!1}),b.hideMenu&&(this.bookLayer.css("bottom","0"),b.menuOverBook=!0),b.pagesOriginal=JSON.parse(JSON.stringify(b.pages)),this.book=jQuery(o.createElement("div")).addClass("book").appendTo(n.bookLayer),b.preloader?this.preloader=b.preloader:!jQuery(".flipbook-preloader").length&&b.lightBox?this.preloader=jQuery('<div class="flipbook-preloader cssload-container"><div class="cssload-speeding-wheel"></div><div class="flipbook-loading-text">'+b.preloaderText+'</div><div class="flipbook-loading-bg"></div></div>'):b.lightBox?this.preloader=jQuery(".flipbook-preloader"):this.preloader=jQuery('<div class="flipbook-preloader-2 cssload-container"><div class="cssload-speeding-wheel"></div><div class="flipbook-loading-text">'+b.preloaderText+'</div><div class="flipbook-loading-bg"></div></div>'),this.setLoadingProgress(0),!b.deeplinkingPrefix&&b.deeplinking&&b.deeplinking.prefix&&(b.deeplinkingPrefix=b.deeplinking.prefix),b.deeplinkingEnabled=b.deeplinkingPrefix||b.deeplinkingEnabled||b.deeplinking&&b.deeplinking.enabled,b.deeplinkingEnabled&&(m(),jQuery(t).bind("hashchange",function(e){m()})),this.dispose=function(){this.disposed=!0},b.main=this,this._events={},this.on=function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)},this.off=function(e,t){if(this._events[e]){var o=this._events[e].indexOf(t);o>-1&&this._events[e].splice(o,1)}},this.trigger=function(e){if(this._events[e]){var t=0,o=this._events[e].length;if(o)for(;t<o;t++)this._events[e][t].apply(this,[].slice.call(arguments,1))}},this.on("pageLoaded",function(e){b.pages[e.index]=b.pages[e.index]||{},b.pages[e.index].canvas=b.pages[e.index].canvas||{},b.pages[e.index].canvas[e.size]=e.canvas,n.searchingString&&n.mark(n.searchingString,!0)}),this.on("pageUnloaded",function(e){e.unloadedPages.forEach(function(e){if(n.Book.onPageUnloaded){var t=e.index;n.options.cover||t++,n.Book.onPageUnloaded(t,e.size)}})}),this.on("pdfinit",function(){b.tableOfContent=n.pdfService.outline||b.tableOfContent,b.doublePage=n.pdfService.double,b.doublePage||(b.backCover=n.pdfService.numPages%2==0,b.cover||(b.backCover=!b.backCover)),n.viewportOriginal=n.pdfService.viewports[0],b.firstPage={width:n.pdfService.viewports[0].width,height:n.pdfService.viewports[0].height,ratio:n.pdfService.viewports[0].width/n.pdfService.viewports[0].height},n.pdfService.numPages>1&&(b.secondPage={width:n.pdfService.viewports[1].width,height:n.pdfService.viewports[1].height,ratio:n.pdfService.viewports[1].width/n.pdfService.viewports[1].height}),b.numPages=n.pdfService.numPages,1==b.numPages&&(b.viewMode="swipe",b.singlePageMode=!0,b.btnNext.enabled=!1,b.btnPrev.enabled=!1,b.btnFirst.enabled=!1,b.btnLast.enabled=!1,b.sideNavigationButtons=!1,b.btnAutoplay.enabled=!1,b.printMenu=!1,b.downloadMenu=!1,n.webgl=!1);for(var e=[],t=0;t<b.numPages;t++){var o={canvas:{}};b.pages&&b.pages[t]?jQuery.extend(o,b.pages[t]):o.title=t+1,e[t]=o}b.pages=e;n.book.height();var i=b.pageTextureSize;b.pageWidth=parseInt(i*n.viewportOriginal.width/n.viewportOriginal.height),b.pageHeight=i,b.pw=b.pageWidth,b.ph=b.pageHeight,b.zoomSize=b.zoomSize||b.pageTextureSize,n.start()}),this.on("toolSelect",function(){n.bookLayer.removeClass("flipbook-move"),n.btnSelect&&n.btnSelect.addClass("flipbook-btn-active"),n.bookLayer.removeClass("flipbook-disable-text-selection")}),this.on("toolMove",function(){n.bookLayer.addClass("flipbook-move"),n.btnSelect&&n.btnSelect.removeClass("flipbook-btn-active"),n.bookLayer.addClass("flipbook-disable-text-selection")}),b.lightBox?(b.btnClose.enabled=!0,this.lightbox=new FLIPBOOK.Lightbox(this,this.wrapper,b),this.lightboxStartedTimes=0,this.wrapper.css("background","none"),this.bookLayer.css("background","none"),this.book.css("background","none"),this.preloader.appendTo(this.$body).css("position","fixed"),this.$elem.css("cursor","pointer").bind("tap click",function(e){e.preventDefault(),n.lightboxStartPage=jQuery(this).attr("data-page"),n.started?(n.lightboxStart(),b.lightBoxFullscreen&&setTimeout(function(){n.toggleExpand()},0)):(k(),b.lightBoxFullscreen&&setTimeout(function(){n.toggleExpand()},100))}),b.lightBoxOpened?(k(),jQuery(t).trigger("r3d-lightboxloadingstarted")):b.lightboxPreload&&("undefined"!=typeof IScroll||FLIPBOOK.scriptsAdded[FLIPBOOK.iscrollSrc]||n.loadScript(FLIPBOOK.iscrollSrc,function(){}),void 0!==FLIPBOOK.PdfService||FLIPBOOK.scriptsAdded[FLIPBOOK.pdfServiceSrc]||n.loadScript(FLIPBOOK.pdfServiceSrc,function(){}),b.pdfMode&&("undefined"!=typeof pdfjsLib||FLIPBOOK.scriptsAdded[FLIPBOOK.pdfjsSrc]||n.loadScript(FLIPBOOK.pdfjsSrc,function(){}),void 0!==FLIPBOOK.PdfService||FLIPBOOK.scriptsAdded[FLIPBOOK.pdfServiceSrc]||n.loadScript(FLIPBOOK.pdfServiceSrc,function(){}),b.btnSearch.enabled&&(FLIPBOOK.scriptsAdded[FLIPBOOK.markSrc]||n.loadScript(FLIPBOOK.markSrc,function(){}))),"webgl"==b.viewMode&&("undefined"!=typeof THREE||FLIPBOOK.scriptsAdded[FLIPBOOK.threejsSrc]||n.loadScript(FLIPBOOK.threejsSrc,function(){}))),this.fullscreenElement=o.documentElement):(b.btnClose.enabled=!1,this.preloader.appendTo(this.wrapper),this.wrapper.appendTo(this.$elem),this.fullscreenElement=this.$elem[0],w(this.wrapper[0])?k():this.containerVisibleInterval=setInterval(function(){w(n.wrapper[0])>0&&(clearInterval(n.containerVisibleInterval),k())},300)))},FLIPBOOK.Main.prototype={start:function(){this.options.dp&&(this.options.doublePage=!0),this.started||(this.pageW=this.options.pageWidth,this.bookW=2*this.options.pageWidth,this.options.singlePageMode&&(this.bookW/=2),this.pageH=this.options.pageHeight,this.bookH=this.options.pageHeight,this.options.numPages%2==0?this.options.numSheets=(this.options.numPages+2)/2:this.options.numSheets=(this.options.numPages+1)/2,this.started=!0,this.options.lightBox&&(this.lightbox.openLightbox(),this.lightboxStart()),this.createBook(),this.updateSkinColors())},updateSkinColors:function(){var e=this.options;e.skinColor&&this.wrapper.find(".skin-color").css("color",e.skinColor),e.skinBackground&&this.wrapper.find(".skin-color-bg").css("background",e.skinBackground)},lightboxStart:function(){var e=this;this.started||this.start(),void 0!==this.Book?(this.Book.enable(),this.backgroundMusic&&this.backgroundMusic.pause(),this.lightboxStartPage?this.goToPage(this.lightboxStartPage,!0):this.options.lightboxStartPage&&this.goToPage(this.options.lightboxStartPage,!0),this.lightboxStartedTimes++,this.gaCode&&ga("send",{hitType:"event",eventCategory:"Flipbook : "+this.options.name,eventAction:"lightbox open",eventLabel:"lightbox open",eventValue:this.lightboxStartedTimes,nonInteraction:!0}),this.updateCurrentPage(),this.initColors(),this.resize()):setTimeout(function(){e.lightboxStart()},100)},setHash:function(e){e<1&&(e=1),"#"+this.options.deeplinkingPrefix+e!=t.location.hash&&this.options.deeplinkingEnabled&&this.Book.enabled&&this.hash!=e&&(t.location.hash="#"+this.options.deeplinkingPrefix+String(e),this.hash=e)},clearHash:function(){var e,i,n=t.location;"pushState"in history?history.pushState("",o.title,n.pathname+n.search):(e=o.body.scrollTop,i=o.body.scrollLeft,n.hash="",o.body.scrollTop=e,o.body.scrollLeft=i)},getPageFromHash:function(){var e,o=t.location.hash,i="#"+this.options.deeplinkingPrefix;return-1!==o.indexOf(i)&&(e=parseInt(t.location.hash.replace(/#/g,"").replace(this.options.deeplinkingPrefix,""))),e},initColors:function(){this.wrapper.find(".skin-color-bg").removeClass("flipbook-bg-light").removeClass("flipbook-bg-dark").addClass("flipbook-bg-"+this.options.skin),this.wrapper.find(".skin-color").removeClass("flipbook-color-light").removeClass("flipbook-color-dark").addClass("flipbook-color-"+this.options.skin),this.updateSkinColors()},lightboxEnd:function(){"undefined"!=typeof screenfull&&screenfull.isFullscreen&&screenfull.exit(),t.location.hash&&this.clearHash(),this.setLoadingProgress(1),this.Book&&this.Book.disable(),this.wrapper[0].querySelectorAll(".flipbook-page-item").forEach(function(e){"VIDEO"!=e.nodeName&&"AUDIO"!=e.nodeName||e.pause()}),this.backgroundMusic&&this.backgroundMusic.pause()},turnPageComplete:function(){this.animating=!1,this.updateCurrentPage();var e=this.Book.rightIndex||0;this.options.rightToLeft&&(e=this.options.pages.length-e),this.trigger("turnpagecomplete",{rightIndex:e}),this.options.zoomReset&&this.Book.zoomTo(this.options.zoomMin)},updateCurrentPage:function(){var e,o=this.options.rightToLeft,i=this.options.numPages,n=i-this.options.pageNumberOffset,s=this.Book.rightIndex||0;if(s%2==1&&s++,o&&(s=this.options.pages.length-s),this.options.singlePageMode||this.Book.singlePage||1==this.Book.view?(this.Book.getCurrentPageNumber?e=this.Book.getCurrentPageNumber():(o&&s--,e=s+1),this.options.cover||(e=Number(e)-1),this.setHash(e),this.cPage=[e-1]):(s>i||s==i&&i%2==0?(e=i,this.cPage=[i-1],this.options.cover||(e=String(s-1)+"-"+String(s),this.cPage=[s-2,s-1])):s<1?(e=1,this.cPage=[0]):(e=String(s)+"-"+String(s+1),this.options.cover||(e=String(s-1)+"-"+String(s)),this.cPage=[s-1,s]),this.options.cover?this.setHash(s):this.setHash(s-1)),o?(this.enableNext(s>0),this.options.cover||this.enableNext(s>2),this.enablePrev(this.Book.canFlipPrev()||s<i-1)):(this.enablePrev(s>0),this.options.cover||this.enablePrev(s>2),this.enableNext(this.Book.canFlipNext()||s<i-1)),2==this.cPage.length?(this.wrapper.find(".c-l-p").show(),this.wrapper.find(".c-r-p").show(),this.wrapper.find(".c-p").hide()):(this.wrapper.find(".c-l-p").hide(),this.wrapper.find(".c-r-p").hide(),this.wrapper.find(".c-p").show()),void 0!==this.currentPage&&(this.s&&this.options.pdfPageScale>0&&this.goToPage(0),e!=this.currentPageValue)){this.currentPageValue=String(e);var a=Number(String(e).split("-")[0]),r=Number(String(e).split("-")[1]);a&&this.options.pages[Number(a-1)]&&this.options.pages[Number(a-1)].name&&(e=this.options.pages[Number(a-1)].name),r&&this.options.pages[Number(r-1)]&&this.options.pages[Number(r-1)].name&&(e+="-"+this.options.pages[Number(r-1)].name),this.currentPage.text(e+" / "+String(n)),this.currentPageInput.width(this.currentPageHolder.width()),this.resize(),jQuery(this).trigger({type:"pagechange",page:this.currentPageValue,name:this.options.name}),jQuery(t).trigger({type:"r3d-pagechange",page:this.currentPageValue,name:this.options.name}),this.gaCode&&ga("send",{hitType:"event",eventCategory:"Flipbook : "+this.options.name,eventAction:"page "+this.currentPageValue,eventLabel:"page"+this.currentPageValue,nonInteraction:!0})}},initJpg:function(){var e=this;1==this.options.numPages&&(this.options.viewMode="swipe",this.options.singlePageMode=!0,this.webgl=!1);var t=0,o=1;this.options.cover||(t=1,o=2),this.loadPage(t,this.options.pageTextureSize,function(){e.setLoadingProgress(.5);var t=e.options;if(1==t.pages.length){var i=t.pages[0].img;t.pw=i.width,t.ph=i.height,t.pageWidth=i.width,t.pageHeight=i.height,t.pageMode="singlePage",t.doublePage=!1,t.zoomSize=t.zoomSize||i.height,e.setLoadingProgress(.7),t.btnNext.enabled=!1,t.btnPrev.enabled=!1,t.btnFirst.enabled=!1,t.btnLast.enabled=!1,t.sideNavigationButtons=!1,t.btnAutoplay.enabled=!1,e.start()}else e.loadPage(o,t.pageTextureSize,function(){var o=t.pages[0].img,i=t.pages[1].img,n=o.width/o.height,s=i.width/i.height;t.pw=o.width,t.ph=o.height,t.pageWidth=o.width,t.pageHeight=o.height,t.doublePage=s/n>1.5,t.doublePage||(t.backCover=t.pages.length%2==0,t.cover||(t.backCover=!t.backCover)),t.zoomSize=t.zoomSize||o.height,e.setLoadingProgress(.7),e.start()})})},initPdf:function(){if(!this.started){var e=this;if("undefined"==typeof pdfjsLib){if(!FLIPBOOK.scriptsAdded[FLIPBOOK.pdfjsSrc])return void e.loadScript(FLIPBOOK.pdfjsSrc,function(){e.initPdf()});if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.pdfjsSrc])return void setTimeout(function(){e.initPdf()},100)}if(this.setLoadingProgress(.2),void 0===FLIPBOOK.PdfService){if(!FLIPBOOK.scriptsAdded[FLIPBOOK.pdfServiceSrc])return void e.loadScript(FLIPBOOK.pdfServiceSrc,function(){e.initPdf()});if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.pdfServiceSrc])return void setTimeout(function(){e.initPdf()},100)}this.setLoadingProgress(.3),t.CanvasPixelArray&&(CanvasPixelArray.prototype.set=function(e){for(var t=this.length,o=0;o<t;o++)this[o]=e[o]}),pdfjsLib.GlobalWorkerOptions.workerSrc=this.options.pdfjsworkerSrc||FLIPBOOK.pdfjsworkerSrc;var o={cMapPacked:!0,cMapUrl:this.options.cMapUrl||"cmaps/",disableRange:this.options.disableRange,disableAutoFetch:this.options.disableAutoFetch,disableStream:this.options.disableStream,rangeChunkSize:1024*Number(e.options.rangeChunkSize)};if(e.options.pdfUrl?(!1!==e.options.matchProtocol&&("https:"==location.protocol?e.options.pdfUrl=e.options.pdfUrl.replace("http://","https://"):"http:"==location.protocol&&(e.options.pdfUrl=e.options.pdfUrl.replace("https://","http://"))),o.url=e.options.pdfUrl):e.options.pdfBase64&&(o.data=atob(e.options.pdfBase64)),this.options.password){var i=prompt("Please enter PDF password","");if(null==i)return this.lightbox&&this.lightbox.closeLightbox(!0),this.setLoadingProgress(1),void(this.pdfinitStarted=!1);o.password=i}if(!this.pdfinitStarted)this.pdfinitStarted=!0,pdfjsLib.getDocument(o).promise.then(function(t){e.pdfDocument=t,e.pdfService=new FLIPBOOK.PdfService(t,e,e.options),e.options.thumbLoaded=function(t){e.options.thumbs=e.options.thumbs||[],e.options.thumbs[t.index]=t},e.setLoadingProgress(.5),e.pdfService.init()},function(t){"PasswordException"==t.name?(e.pdfinitStarted=!1,e.options.password=!0,e.initPdf()):alert(t)})}},initPageLinks:function(e){var t=this;jQuery(e).find(".internalLink").each(function(){this.dataset.page&&(this.onclick=function(){var e=Number(this.dataset.page);return e=t.options.rightToLeft?t.options.pages.length-e+1:e,t.goToPage(e),!1})})},loadPageHTML:function(e,t){var i=this,n=(e=e,this.options);this.options.cover||e--,this.options.pdfMode?this.options.pages[e]?this.pdfService.loadTextLayer(e,function(o){i.initPageLinks(n.pages[e].htmlContent),t.call(i,n.pages[e].htmlContent,e)}):t.call(this,{}):n.pages[e].json?this.loadPageJSON(e,function(s){var a=n.pages[e]||{};if(!a.htmlContentInitialized){var r=o.createElement("div");r.classList.add("flipbook-page-htmlContent"),r.classList.add("page"+String(e)),r.innerHTML=decodeURIComponent(s.data),a.htmlContent&&jQuery(r).append(jQuery(a.htmlContent)),a.htmlContent=r,i.initPageLinks(a.htmlContent),a.htmlContentInitialized=!0}t.call(i,a.htmlContent,e)}):(this.initPageLinks(n.pages[e].htmlContent),t.call(this,n.pages[e].htmlContent,e))},loadPageJSON:function(e,t){var o=this.options.pages[e]||{},i=this;if(!1!==i.options.matchProtocol&&("https:"==location.protocol?o.json=o.json.replace("http:","https:"):"http:"==location.protocol&&(o.json=o.json.replace("https:","http:"))),!o.jsonLoading&&!o.jsonLoaded)return o.jsonLoading=!0,void jQuery.getJSON(o.json,function(e){o.jsonLoaded=!0,o.jsonLoading=!1,t.call(i,e)});o.jsonLoaded?t.call(i):setTimeout(function(){i.loadPageJSON(e,t)},100)},loadPage:function(e,t,i){this.options.cover||e--;var n=this,s=this.options.pages&&this.options.pages[e]&&this.options.pages[e].src,a=this.options.pages[e];a?this.options.pdfMode&&!s?this.loadPageFromPdf(e,t,i):t==this.options.thumbTextureSize&&a.thumb?a.thumbImg?a.thumbLoaded?n.pageLoaded({index:e,size:t,image:a.thumb},i):setTimeout(function(){n.loadPage(e,t,i)},300):(a.thumbImg=o.createElement("img"),a.thumbImg.setAttribute("data-id",e),a.thumbImg.onload=function(){a.thumbLoaded=!0,n.pageLoaded({index:e,size:t,image:a.thumbImg},i)},"webgl"==this.options.viewMode&&(a.thumbImg.crossOrigin="Anonymous"),!1!==n.options.matchProtocol&&("https:"==location.protocol?a.thumb=a.thumb.replace("http://","https://"):"http:"==location.protocol&&(a.thumb=a.thumb.replace("https://","http://"))),a.thumbImg.src=a.thumb):a.img?a.imgLoaded?n.pageLoaded({index:e,size:t,image:a.img},i):setTimeout(function(){n.loadPage(e,t,i)},300):(a.img=o.createElement("img"),a.img.setAttribute("data-id",e),a.img.onload=function(){a.imgLoaded=!0,n.pageLoaded({index:e,size:t,image:a.img},i)},"webgl"==this.options.viewMode&&(a.img.crossOrigin="Anonymous"),!1!==n.options.matchProtocol&&("https:"==location.protocol?a.src=a.src.replace("http://","https://"):"http:"==location.protocol&&(a.src=a.src.replace("https://","http://"))),a.img.src=a.src):i.call(this)},pageLoaded:function(e,t){t.call(this,e,t),this.options.loadAllPages&&e.index<this.options.numPages-1&&this.loadPage(e.index+1,e.size,function(){}),this.searchingString&&this.mark(this.searchingString,!0)},loadPageFromPdf:function(e,t,o){t=t||this.options.pageTextureSize,this.pdfService.renderBookPage(e,t,o)},getString:function(e){return this.options.strings[e]},mark:function(e,t){(e!=this.markedStr||t)&&(this.markedStr=e,this.options.pages.forEach(function(t){var o=jQuery(t.htmlContent).find(".flipbook-textLayer");t.marked!=e&&o.length&&(t.marked=e,o.unmark({done:function(){o.mark(e,{acrossElements:!0,separateWordSearch:!1})}}))}))},unmark:function(){this.searchingString=null,this.markedStr=null,this.options.pages.forEach(function(e){e.marked&&(e.marked=null,jQuery(e.htmlContent).unmark())})},setTool:function(e){this.tool=e,this.trigger(e)},toggleTool:function(){var e="toolSelect"==this.tool?"toolMove":"toolSelect";this.setTool(e)},toggleSound:function(){var e=this.options;e.sound=!e.sound,this.backgroundMusic&&(e.sound?this.backgroundMusic.play():this.backgroundMusic.pause()),this.toggleIcon(this.btnSound,e.sound)},toggleIcon:function(e,t){var o=t?e.iconAlt:e.icon,i=t?e.icon:e.iconAlt;e.find("."+o).removeClass(o).addClass(i)},scrollPageIntoView:function(e){var t=this.options.rightToLeft?this.options.pages.length-e.pageNumber+1:e.pageNumber;this.goToPage(t)},loadScript:function(e,t){var n=this,s=o.createElement("script"),a=o.getElementsByTagName("script")[0];s.async=1,a.parentNode.insertBefore(s,a),FLIPBOOK.scriptsAdded[e]=!0,s.onload=s.onreadystatechange=function(o,a){(a||!s.readyState||/loaded|complete/.test(s.readyState))&&(s.onload=s.onreadystatechange=null,s=i,a||t&&t.call(n),FLIPBOOK.scriptsLoaded[e]=!0)},s.src=e},createBook:function(){var e=this,t=this.options;if("undefined"==typeof IScroll){if(!FLIPBOOK.scriptsAdded[FLIPBOOK.iscrollSrc])return void e.loadScript(FLIPBOOK.iscrollSrc,e.createBook);if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.iscrollSrc])return void setTimeout(function(){e.createBook()},100)}if(this.options.searchOnStart&&(this.options.btnSearch.enabled=!0),this.options.btnSearch.enabled){if(!FLIPBOOK.scriptsAdded[FLIPBOOK.markSrc])return void e.loadScript(FLIPBOOK.markSrc,e.createBook);if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.markSrc])return void setTimeout(function(){e.createBook()},100)}if(e.setLoadingProgress(.9),"webgl"==e.options.viewMode){if("undefined"==typeof THREE){if(!FLIPBOOK.scriptsAdded[FLIPBOOK.threejsSrc])return void e.loadScript(FLIPBOOK.threejsSrc,e.createBook);if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.threejsSrc])return void setTimeout(function(){e.createBook()},100)}if(void 0===FLIPBOOK.BookWebGL){if(!FLIPBOOK.scriptsAdded[FLIPBOOK.flipbookWebGlSrc])return void e.loadScript(FLIPBOOK.flipbookWebGlSrc,e.createBook);if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.flipbookWebGlSrc])return void setTimeout(function(){e.createBook()},100)}}else if("swipe"==e.options.viewMode){if(void 0===FLIPBOOK.BookSwipe){if(!FLIPBOOK.scriptsAdded[FLIPBOOK.flipBookSwipeSrc])return void e.loadScript(FLIPBOOK.flipBookSwipeSrc,e.createBook);if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.flipBookSwipeSrc])return void setTimeout(function(){e.createBook()},100)}}else if(void 0===FLIPBOOK.Book3){if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.flipbookBook3Src])return void e.loadScript(FLIPBOOK.flipbookBook3Src,e.createBook);if(!FLIPBOOK.scriptsAdded[FLIPBOOK.flipbookBook3Src])return void setTimeout(function(){e.createBook()},100)}if(this.setLoadingProgress(1),this.initEasing(),e.options.doublePage&&e.options.pages.length>2){for(var o=[e.options.pages[0]],i=1;i<=e.options.pages.length-2;i++){var n={src:(a=e.options.pages[i]).src,thumb:a.thumb,title:2*i,htmlContent:a.htmlContent,json:a.json,side:"left"},s={src:a.src,thumb:a.thumb,title:2*i+1,htmlContent:a.htmlContent,json:a.json,side:"right"};o.push(n),o.push(s)}if(e.options.backCover)o.push(e.options.pages[e.options.pages.length-1]);else{var a;n={src:(a=e.options.pages[e.options.pages.length-1]).src,thumb:a.thumb,title:a.title,htmlContent:a.htmlContent,json:a.json,side:"left"},s={src:a.src,thumb:a.thumb,title:a.title,htmlContent:a.htmlContent,json:a.json,side:"right"};o.push(n),o.push(s)}e.options.pages=o}if(this.options.numPages=this.options.pages.length,this.options.numPages%2==0||this.options.singlePageMode||(this.options.backCover=!1,this.options.cover||(this.options.backCover=!this.options.backCover),this.options.pages.push({src:this.options.assets.preloader,thumb:this.options.assets.preloader,empty:!0})),e.options.pages.length>0)for(i=0;i<e.options.pages.length;i++)void 0!==e.options.pages[i].htmlContent&&(e.options.hasHtmlContent=!0,e.options.pages[i].htmlContent=jQuery('<div class="flipbook-page-htmlContent">'+e.options.pages[i].htmlContent+"</div>"));function r(){e.options.flipSound&&(e.flipSound=jQuery('<audio><source src="'+e.options.assets.flipMp3+'" type="audio/mpeg"></audio>')[0]),e.options.backgroundMusic&&(e.backgroundMusic=jQuery('<audio autoplay><source src="'+e.options.backgroundMusic+'" type="audio/mpeg"></audio>')[0])}if("webgl"==e.options.viewMode){var l=e.options;l.scroll=e.scroll,l.parent=e,e.Book=new FLIPBOOK.BookWebGL(e.book[0],this,l),e.webglMode=!0,e.initSwipe(),r()}else"swipe"==e.options.viewMode?(e.Book=new FLIPBOOK.BookSwipe(e.book[0],e.bookLayer[0],this,t),e.initSwipe()):("2d"!=e.options.viewMode&&(e.options.viewMode="3d"),e.Book=new FLIPBOOK.Book3(e.book[0],this,t),e.initSwipe(),e.webglMode=!1,r());this.resize(),e.Book.enable(),e.book.hide().fadeIn("slow"),this.tocCreated=!1,this.createMenu(),this.onZoom(this.options.zoom),1==this.options.pages.length&&(this.rightToLeft=!1),FLIPBOOK.books=FLIPBOOK.books||{},FLIPBOOK.books[e.id]=e.Book;var h=jQuery(e.Book);h.bind("loadPagesFromPdf",function(t,o,i,n){e.loadPagesFromPdf(o,i,n)}),h.bind("turnPageComplete",function(t){e.turnPageComplete()}),h.bind("initEasing",function(t){e.initEasing()}),h.bind("playFlipSound",function(t){e.playFlipSound()}),h.bind("closeLightbox",function(t){e.closeLightbox()}),h.bind("updateCurrentPage",function(t){e.updateCurrentPage()}),this.createLogo(),this.onBookCreated()},addPageItems:function(){var e=this.options.pages;this.id;for(var t in e){var o,i=e[t];if(i.htmlContent=i.htmlContent||"",i.items)for(var n in i.items){var s=i.items[n];switch(s.src&&!s.url&&(s.url=s.src),s.x=s.x||0,s.y=s.y||0,s.width=s.width||100,s.height=s.height||100,s.type){case"iframe":case"youtube":s.url.includes("<iframe")?i.htmlContent+='<div class="flipbook-page-item" style="top:'+s.y+"px;left:"+s.x+"px;width:"+s.width+"px;height:"+s.height+'px;">'+s.url+"</div>":(s.url.includes("youtu.be/")&&(s.url=s.url.replace("youtu.be/","youtube.com/watch?v=")),s.url.includes("youtube.com/watch?v=")&&(s.url=s.url.split("&")[0].replace("/watch?v=","/embed/")),o='<iframe class="flipbook-page-item" src="'+s.url+'" style="top:'+s.y+"px;left:"+s.x+"px;width:"+s.width+"px;height:"+s.height+'px;" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'),i.htmlContent+=o;break;case"image":o='<img class="flipbook-page-item" src="'+s.url+'" style="top:'+s.y+"px;left:"+s.x+"px;width:"+s.width+"px;height:"+s.height+'px;">',i.htmlContent+=o;break;case"link":o=jQuery('<a class="flipbook-page-item flipbook-page-item-link"></a>').width(s.width).height(s.height).css({position:"absolute",top:s.y,left:s.x}),s.content&&o.html(s.content),s.url?o.attr("href",s.url).attr("target",s.target||this.options.linkTarget):s.page&&o.attr("href","#").addClass("internalLink").attr("data-page",s.page),i.htmlContent+=o[0].outerHTML;break;case"video":var a=!1===s.autoplay?"":"autoplay ",r=s.controls?"controls ":"",l=!1===s.muted?"":"muted ";o='<video class="flipbook-page-item" playsinline '+(!1===s.loop?"":"loop ")+a+r+l+' style="top:'+s.y+"px;left:"+s.x+"px;width:"+s.width+"px;height:"+s.height+'px;"><source type="video/mp4" src="'+s.url+'"></video>',i.htmlContent+=o;break;case"audio":a=!1===s.autoplay?"":"autoplay ",r=s.controls?"controls ":"";o="<audio "+a+(!1===s.loop?"":"loop ")+r+' class="flipbook-page-item" style="top:'+s.y+"px;left:"+s.x+"px;width:"+s.width+"px;height:"+s.height+'px;"><source src="'+s.url+'" type="audio/mpeg"></audio>',i.htmlContent+=o}}}},onBookCreated:function(){var e=this.options,i=this;!e.cover&&Number(e.startPage)<2&&(e.startPage=2),e.rightToLeft?this.goToPage(Number(e.pages.length-Number(e.startPage)+1),!0):this.goToPage(Number(e.startPage),!0);var n=o.documentElement;n.style.setProperty("--flipbook-link-color",this.options.linkColor),n.style.setProperty("--flipbook-link-color-hover",this.options.linkColorHover),n.style.setProperty("--flipbook-link-opacity",this.options.linkOpacity),jQuery(t).resize(function(){i.resize()}),this.resize(),this.Book.updateVisiblePages(),this.Book.zoomTo(e.zoomMin),this.updateCurrentPage(),this.playBgMusic(),o.addEventListener("keydown",function(e){if(i.Book.enabled){if(!i.options.arrowsAlwaysEnabledForNavigation||37!=e.keyCode&&39!=e.keyCode){if(!i.options.lightBox&&!i.fullscreenActive&&(i.options.arrowsDisabledNotFullscreen||i.bodyHasVerticalScrollbar()))return}else;switch((e=e||t.event).keyCode){case 37:i.zoom>1?i.moveBook("left"):i.prevPage();break;case 38:i.zoom>1?i.moveBook("up"):i.nextPage();break;case 39:i.zoom>1?i.moveBook("right"):i.nextPage();break;case 33:i.prevPage();break;case 34:i.nextPage();break;case 36:i.firstPage();break;case 35:i.lastPage();break;case 40:i.zoom>1?i.moveBook("down"):i.prevPage();break;case 107:case 187:i.zoomIn();break;case 109:case 189:i.zoomOut()}return!1}}),o.addEventListener("MSFullscreenChange",function(e){i.handleFsChange()}),o.addEventListener("mozfullscreenchange",function(e){i.handleFsChange()}),o.addEventListener("webkitfullscreenchange",function(e){i.handleFsChange()}),o.addEventListener("fullscreenchange",function(e){i.handleFsChange()}),e.lightboxCloseOnBack&&(t.onpopstate=function(){i.Book.enabled&&FLIPBOOK.lightboxOpened&&(t.location.hash||i.lightbox.closeLightbox(!0))}),this.zoom=e.zoomMin,this.bookLayer.bind("DOMMouseScroll",function(e){if(i.Book.enabled&&(i.options.lightBox||i.fullscreenActive||!i.options.wheelDisabledNotFullscreen&&!i.bodyHasVerticalScrollbar()))return e.stopPropagation(),e.preventDefault(),e.originalEvent.detail>0?i.zoomOut(e.originalEvent):i.zoomIn(e.originalEvent),!1}),this.bookLayer.bind("mousewheel",function(e){if(i.Book.enabled&&(i.options.lightBox||i.fullscreenActive||!i.options.wheelDisabledNotFullscreen&&!i.bodyHasVerticalScrollbar()))return e.stopPropagation(),e.preventDefault(),e.originalEvent.wheelDelta<0?i.zoomOut(e.originalEvent):i.zoomIn(e.originalEvent),!1}),this.setTool("toolMove"),i.options.contentOnStart?i.toggleToc(!0):i.options.thumbnailsOnStart?i.toggleThumbs(!0):i.options.searchOnStart&&(i.toggleSearch(!0),"string"==typeof i.options.searchOnStart&&i.thumbs.$findInput.val(i.options.searchOnStart).trigger("keyup")),e.autoplayOnStart&&i.toggleAutoplay(!0),i.options.lightBox&&i.Book.disable(),i.initColors(),setTimeout(function(){i.resize(),i.Book.updateVisiblePages(),i.Book.zoomTo(e.zoomMin)},500),e.onbookcreated&&e.onbookcreated.call(this)},initSwipe:function(){if(1!=this.options.numPages&&this.options.touchSwipeEnabled){var e=this;t.jQuery(this.bookLayer).swipe({swipeStatus:function(t,o,i,n,s,a,r){if("start"==o)try{e.currentPageInput.trigger("blur")}catch(t){}if(!e.options.sideNavigationButtons||t.target!==e.arrowL[0]&&t.target!==e.arrowR[0])if(("end"==o||"cancel"==o)&&s<200&&n<10){if("toolMove"==e.tool&&!e.options.doubleClickZoomDisabled)if(null==e.clickTimer)e.clickTimer=setTimeout(function(){if(e.clickTimer=null,"touchend"==t.type)t.changedTouches[0].pageX;else if("mouseup"==t.type)t.offsetX},300);else{clearTimeout(e.clickTimer),e.clickTimer=null;var l=e.options.zoomTime;e.zoom>=e.options.zoomMax?e.zoomTo(e.options.zoomMin,l,t):e.zoomTo(e.options.zoomMax,l,t)}}else{if(("up"==i||"down"==i)&&"move"==o||e.zoom>1||"toolSelect"==e.tool||e.options.pageDragDisabled)return;e.Book.onSwipe(t,o,i,n,s,a,r)}},pinchStatus:function(t,o,i,n,s,a,r){"start"==o&&(e.zoomStart=e.zoom),a>1&&"move"==o&&(t.preventDefault(),t.scale&&(r=t.scale),e.zoomTo(e.zoomStart*r,0,t))},fingers:2,pinchThreshold:0,allowPageScroll:"vertical",preventDefaultEvents:!1}),this.swipeEnabled=!0}},toggleMenu:function(){this.menuShowing?(this.menuShowing=!1,this.bookLayer.css("bottom","0px"),this.menuBottom.fadeOut(),this.currentPageHolder.fadeOut(),jQuery(".flipbook-nav").fadeOut(),this.Book.onResize()):(this.menuShowing=!0,this.bookLayer.css("bottom",this.menuBottom.height()+"px"),this.menuBottom.fadeIn(),this.currentPageHolder.fadeIn(),jQuery(".flipbook-nav").fadeIn(),this.Book.onResize())},createIcon:function(e,t,i){var n;return n="material"==this.options.icons?jQuery(o.createElement("span")).attr("aria-hidden","true").addClass(t?e.iconM_alt:e.iconM).addClass("flipbook-icon flipbook-menu-btn skin-color"):jQuery(o.createElement("span")).attr("aria-hidden","true").addClass(t?e.iconFA_alt:e.iconFA).addClass("flipbook-icon flipbook-menu-btn skin-color"),i||n.addClass("skin-color-bg"),n},createButton:function(e){var t=this.options,i="top"==e.vAlign&&t.menu2Transparent||"top"!=e.vAlign&&t.menuTransparent,n=e.background||(i?t.floatingBtnBackground:t.btnBackground),s=e.backgroundHover||(i?t.floatingBtnBackgroundHover:t.btnBackgroundHover),a=e.color||(i?t.floatingBtnColor:t.btnColor),r=e.colorHover||(i?t.floatingBtnColorHover:t.btnColorHover),l=i?t.floatingBtnTextShadow:t.btnTextShadow,h=e.radius||(i?t.floatingBtnRadius:t.btnRadius),d=e.border||(i?t.floatingBtnBorder:t.btnBorder),p=i?t.floatingBtnMargin:t.btnMargin,c=t.btnPaddingV+2,u=t.btnPaddingH+2,g=jQuery(o.createElement("span")),b="material"==t.icons,f=b?(e.size||t.btnSize)+8:e.size||t.btnSize;function m(e){e.css({"font-size":f+"px",margin:p+"px",padding:c+"px "+u+"px","border-radius":h+"px","text-shadow":t.btnTextShadow,"box-shadow":t.btnShadow,border:d,color:a,background:n,"text-shadow":l}),a&&e.removeClass("skin-color"),n&&e.removeClass("skin-color-bg")}g.$icon=this.createIcon(e).appendTo(g),m(g.$icon),e.iconAlt2&&(g.$iconAlt=this.createIcon(e,!0).appendTo(g).hide(),m(g.$iconAlt)),g.icon=e.iconFA,g.iconAlt=e.iconFA_alt,b&&(g.icon=e.iconM,g.iconAlt=e.iconM_alt,e.icon=e.iconM,e.iconAlt=e.iconM_alt),e.onclick&&g.bind("tap click",function(t){e.onclick()}),(r||s)&&g.mouseenter(function(){Array.from(this.children).forEach(function(e){e.style.color=r,e.style.background=s})}).mouseleave(function(){Array.from(this.children).forEach(function(e){e.style.color=a,e.style.background=n})});var k;return k="top"==e.vAlign?t.menu2Floating?this.menuTC:"left"==e.hAlign?this.menuTL:"right"==e.hAlign?this.menuTR:this.menuTC:t.menuFloating?this.menuBC:"left"==e.hAlign?this.menuBL:"right"==e.hAlign?this.menuBR:this.menuBC,g.attr("data-name",e.name).appendTo(k).attr("title",e.title).addClass("").css("order",e.order),g},createMenu:function(){if(!this.menuBottom){var e=this.options,t=e.menuFloating?"flipbook-menu-floating":"flipbook-menu-fixed",i=e.menu2Floating?"flipbook-menu-floating":"flipbook-menu-fixed",n=this;this.menuBottom=jQuery(o.createElement("div")).addClass("flipbook-menuBottom").addClass(t).appendTo(this.wrapper).css({background:e.menuBackground,"box-shadow":e.menuShadow,margin:e.menuMargin+"px",padding:e.menuPadding+"px"}),e.menuTransparent||e.menuBackground||this.menuBottom.addClass("skin-color-bg"),e.hideMenu&&this.menuBottom.hide(),this.menuTop=jQuery(o.createElement("div")).addClass("flipbook-menuTop").addClass(i).appendTo(this.wrapper).css({background:e.menu2Background,"box-shadow":e.menu2Shadow,margin:e.menu2Margin+"px",padding:e.menu2Padding+"px"}),e.menu2Transparent||e.menu2Background||this.menuTop.addClass("skin-color-bg"),"swipe"==e.viewMode&&(e.btnSound.enabled=!1),this.menuBL=jQuery(o.createElement("div")).addClass("flipbook-menu flipbook-menu-left").appendTo(this.menuBottom),this.menuBC=jQuery(o.createElement("div")).addClass("flipbook-menu flipbook-menu-center").appendTo(this.menuBottom),this.menuBR=jQuery(o.createElement("div")).addClass("flipbook-menu flipbook-menu-right").appendTo(this.menuBottom),this.menuTL=jQuery(o.createElement("div")).addClass("flipbook-menu flipbook-menu-left").appendTo(this.menuTop),this.menuTC=jQuery(o.createElement("div")).addClass("flipbook-menu flipbook-menu-center").appendTo(this.menuTop),this.menuTR=jQuery(o.createElement("div")).addClass("flipbook-menu flipbook-menu-right").appendTo(this.menuTop),e.isMobile&&(void 0!==e.btnTocIfMobile&&(e.btnToc.hideOnMobile=!e.btnTocIfMobile),void 0!==e.btnThumbsIfMobile&&(e.btnThumbs.hideOnMobile=!e.btnThumbsIfMobile),void 0!==e.btnShareIfMobile&&(e.btnShare.hideOnMobile=!e.btnShareIfMobile),void 0!==e.btnDownloadPagesIfMobile&&(e.btnDownloadPages.hideOnMobile=!e.btnDownloadPagesIfMobile),void 0!==e.btnDownloadPdfIfMobile&&(e.btnDownloadPdf.hideOnMobile=!e.btnDownloadPdfIfMobile),void 0!==e.btnSoundIfMobile&&(e.btnSound.hideOnMobile=!e.btnSoundIfMobile),void 0!==e.btnExpandIfMobile&&(e.btnExpand.hideOnMobile=!e.btnExpandIfMobile),void 0!==e.btnPrintIfMobile&&(e.btnPrint.hideOnMobile=!e.btnPrintIfMobile)),e.sideNavigationButtons&&(this.btnNext=jQuery('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"></div></div>').appendTo(this.bookLayer).bind("tap click",function(e){n.btnNext.disabled||(n.btnNext.disabled=!0,setTimeout(function(){n.btnNext.disabled=!1},300),e.stopPropagation(),e.preventDefault(),n.nextPage())}),this.arrowR=this.createIcon(e.btnNext).appendTo(this.btnNext.first()).addClass("flipbook-right-arrow").css({width:e.sideBtnSize+"px",height:e.sideBtnSize+"px","font-size":e.sideBtnSize+"px","border-radius":e.sideBtnRadius+"px","margin-top":String(-e.sideBtnSize/2)+"px","margin-right":e.sideBtnMargin+"px",padding:e.sideBtnPaddingV+"px "+e.sideBtnPaddingH+"px","text-shadow":e.sideBtnTextShadow,"box-shadow":e.sideBtnShadow,border:e.sideBtnBorder,color:e.sideBtnColor,background:e.sideBtnBackground,"box-sizing":"initial"}),e.sideBtnColor&&this.arrowR.removeClass("skin-color"),e.sideBtnBackground&&this.arrowR.removeClass("skin-color-bg"),this.btnPrev=jQuery('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"></div></div>').appendTo(n.bookLayer).bind("tap click",function(e){n.btnPrev.disabled||(n.btnPrev.disabled=!0,setTimeout(function(){n.btnPrev.disabled=!1},300),e.stopPropagation(),e.preventDefault(),n.prevPage())}),this.arrowL=this.createIcon(e.btnPrev).appendTo(this.btnPrev.first()).addClass("flipbook-left-arrow").css({width:e.sideBtnSize+"px",height:e.sideBtnSize+"px","font-size":e.sideBtnSize+"px","border-radius":e.sideBtnRadius+"px","margin-top":String(-e.sideBtnSize/2)+"px","margin-left":e.sideBtnMargin+"px",padding:e.sideBtnPaddingV+"px "+e.sideBtnPaddingH+"px","text-shadow":e.sideBtnTextShadow,"box-shadow":e.sideBtnShadow,border:e.sideBtnBorder,color:e.sideBtnColor,background:e.sideBtnBackground,"box-sizing":"initial"}),e.sideBtnColor&&this.arrowL.removeClass("skin-color"),e.sideBtnBackground&&this.arrowL.removeClass("skin-color-bg"),e.btnFirst.enabled&&(this.btnFirst=jQuery('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"></div></div>').appendTo(this.bookLayer).bind("tap click",function(e){n.btnFirst.disabled||(n.btnFirst.disabled=!0,setTimeout(function(){n.btnFirst.disabled=!1},300),e.stopPropagation(),e.preventDefault(),n.firstPage())}),this.arrowFirst=this.createIcon(e.btnFirst).appendTo(this.btnFirst.first()).addClass("flipbook-first-arrow").css({width:e.sideBtnSize+"px",height:.66*e.sideBtnSize+"px","font-size":.66*e.sideBtnSize+"px","border-radius":e.sideBtnRadius+"px","margin-top":String(e.sideBtnSize/2+e.sideBtnMargin+2*e.sideBtnPaddingV)+"px","margin-left":e.sideBtnMargin+"px",padding:e.sideBtnPaddingV+"px "+e.sideBtnPaddingH+"px","text-shadow":e.sideBtnTextShadow,"box-shadow":e.sideBtnShadow,border:e.sideBtnBorder,color:e.sideBtnColor,background:e.sideBtnBackground,"box-sizing":"initial"}),e.sideBtnColor&&this.arrowFirst.removeClass("skin-color"),e.sideBtnBackground&&this.arrowFirst.removeClass("skin-color-bg")),e.btnLast.enabled&&(this.btnLast=jQuery('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"></div></div>').appendTo(n.bookLayer).bind("tap click",function(e){n.btnLast.disabled||(n.btnLast.disabled=!0,setTimeout(function(){n.btnLast.disabled=!1},300),e.stopPropagation(),e.preventDefault(),n.lastPage())}),this.arrowLast=this.createIcon(e.btnLast).appendTo(this.btnLast.first()).addClass("flipbook-last-arrow").css({width:e.sideBtnSize+"px",height:.66*e.sideBtnSize+"px","font-size":.66*e.sideBtnSize+"px","border-radius":e.sideBtnRadius+"px","margin-top":String(e.sideBtnSize/2+e.sideBtnMargin+2*e.sideBtnPaddingV)+"px","margin-right":e.sideBtnMargin+"px",padding:e.sideBtnPaddingV+"px "+e.sideBtnPaddingH+"px","text-shadow":e.sideBtnTextShadow,"box-shadow":e.sideBtnShadow,border:e.sideBtnBorder,color:e.sideBtnColor,background:e.sideBtnBackground,"box-sizing":"initial"}),e.sideBtnColor&&this.arrowLast.removeClass("skin-color"),e.sideBtnBackground&&this.arrowLast.removeClass("skin-color-bg")),e.menuNavigationButtons||(e.btnOrder.indexOf("btnFirst")>=0&&e.btnOrder.splice(e.btnOrder.indexOf("btnFirst"),1),e.btnOrder.indexOf("btnPrev")>=0&&e.btnOrder.splice(e.btnOrder.indexOf("btnPrev"),1),e.btnOrder.indexOf("btnNext")>=0&&e.btnOrder.splice(e.btnOrder.indexOf("btnNext"),1),e.btnOrder.indexOf("btnLast")>=0&&e.btnOrder.splice(e.btnOrder.indexOf("btnLast"),1))),e.pdfMode&&!e.btnDownloadPdf.url&&(e.btnDownloadPdf.url=e.pdfUrl),!e.pdfTextLayer&&e.btnSelect&&(e.btnSelect.enabled=!1),!e.pdfTextLayer&&e.btnSearch&&(e.btnSearch.enabled=!1);for(var s=0;s<e.btnOrder.length;s++){var a=e.btnOrder[s],r=e[a];e.isMobile&&r.hideOnMobile&&(r.enabled=!1),r.enabled&&(r.name=a,"currentPage"==r.name?this.createCurrentPage():this[a]=this.createButton(r).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),n.onButtonClick(this,e)}))}if(e.buttons)for(s=0;s<e.buttons.length;s++){r=e.buttons[s];n.createButton(r).index(1)}}},onButtonClick:function(e,i){var n=jQuery(e).attr("data-name"),s=this.options;switch(n){case"btnFirst":this.firstPage();break;case"btnPrev":this.prevPage();break;case"btnNext":this.nextPage();break;case"btnLast":this.lastPage();break;case"btnZoomIn":this.zoomIn();break;case"btnZoomOut":this.zoomOut();break;case"btnAutoplay":this.autoplay||this.nextPage(),this.toggleAutoplay();break;case"btnSearch":this.toggleSearch();break;case"btnBookmark":this.toggleBookmark();break;case"btnRotateLeft":this.Book.rotateLeft&&this.Book.rotateLeft();break;case"btnRotateRight":this.Book.rotateRight&&this.Book.rotateRight();break;case"btnToc":this.toggleToc();break;case"btnThumbs":this.toggleThumbs();break;case"btnShare":this.toggleShareMenu();break;case"btnDownloadPages":if(s.downloadMenu)this.toggleDownloadMenu();else{var a=o.createElement("a");a.href=s.btnDownloadPages.url,a.download=s.btnDownloadPages.name,a.dispatchEvent(new MouseEvent("click"))}break;case"btnPrint":s.printMenu?this.togglePrintMenu():this.togglePrintWindow();break;case"btnDownloadPdf":if(s.btnDownloadPdf.forceDownload){var r=s.btnDownloadPdf.url,l=o.createElement("a");l.href=r;var h=l.href.split("/").pop().split("#")[0].split("?")[0];l.download=h,o.body.appendChild(l),l.click(),o.body.removeChild(l)}else{var d=s.btnDownloadPdf.openInNewWindow||(s.btnDownloadPdf.openInNewWindow,1)?"_blank":"_self";t.open(s.btnDownloadPdf.url,d)}this.gaCode&&ga("send",{hitType:"event",eventCategory:"Flipbook : "+s.name,eventAction:"download PDF",eventLabel:s.btnDownloadPdf.url,nonInteraction:!0});break;case"btnSound":this.toggleSound();break;case"btnSelect":this.toggleTool();break;case"btnExpand":this.toggleExpand();break;case"btnClose":this.lightbox.closeLightbox()}},handleFsChange:function(e){if(this.Book&&this.Book.enabled){var t=jQuery(this.fullscreenElement);(o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement)===this.fullscreenElement||this.isFullscreen?(e&&(t.addClass("flipbook-browser-fullscreen"),this.fullscreenElement.parentNodeOld=this.fullscreenElement.parentNode,this.options.lightBox||t.appendTo(jQuery("body"))),this.fullscreenActive=!0,this.options.onfullscreenenter&&this.options.onfullscreenenter.call(this)):(e&&(t.removeClass("flipbook-browser-fullscreen"),this.options.lightBox||t.appendTo(jQuery(this.fullscreenElement.parentNodeOld))),this.fullscreenActive=!1,this.options.onfullscreenexit&&this.options.onfullscreenexit.call(this)),this.triggerResizeOnce(),this.toggleIcon(this.btnExpand,!this.fullscreenActive)}},createLogo:function(){var e=this.options;if(e.logoImg&&(!e.isMobile||!e.logoHideOnMobile)){var o=jQuery("<img>").attr("src",e.logoImg).attr("style",e.logoCSS).appendTo(this.wrapper);"right"==e.logoAlignH&&o.css("right","0"),"bottom"==e.logoAlignV&&o.css("bottom","0"),e.logoUrl&&o.css("cursor","pointer").bind("touchend click",function(o){o.stopPropagation(),o.preventDefault(),t.open(e.logoUrl,e.logoUrlTarget||"_blank")})}},setLoadingProgress:function(e){this.disposed||(this.$fillPreloader?this.setFillPreloaderProgress(e):e>0&&e<1?jQuery(this.preloader).stop(!0,!0).show():jQuery(this.preloader).stop(!0,!0).hide())},setFillPreloaderProgress:function(e){if(this.$fillPreloader)if(e>0&&e<1){if(this.fillPreloaderProgress=this.fillPreloaderProgress||0,e<this.fillPreloaderProgress)return;this.fillPreloaderProgress=e;var t=this.$fillPreloaderImg[0];t.style.clip="rect(0px,"+t.width*e+"px,"+t.height+"px,0px)",this.$fillPreloader.show()}else this.$fillPreloader.hide()},playFlipSound:function(){if(this.options.sound&&this.Book.enabled&&void 0!==this.flipSound.play){this.flipSound.currentTime=0;var e=this;setTimeout(function(){e.flipSound.play().then(function(){},function(){})},70)}},playBgMusic:function(){if(this.options.sound&&this.backgroundMusic&&this.backgroundMusic.play){var e=this;this.backgroundMusic.play().then(function(){},function(t){setTimeout(function(){e.playBgMusic()},100)})}},onMouseWheel:function(e){if("wheelDeltaX"in e)wheelDeltaX=e.wheelDeltaX/12,wheelDeltaY=e.wheelDeltaY/12;else if("wheelDelta"in e)wheelDeltaX=wheelDeltaY=e.wheelDelta/12;else{if(!("detail"in e))return;wheelDeltaX=wheelDeltaY=3*-e.detail}wheelDeltaX>0?this.zoomIn(e):this.zoomOut(e)},zoomTo:function(e,t,o){var i,n;this.zoom=e,void 0===o?(i=this.wrapperW/2,n=this.wrapperH/2):(o.touches&&o.touches[0]?(i=o.touches[0].pageX,n=o.touches[0].pageY):o.changedTouches&&o.changedTouches[0]?(i=o.changedTouches[0].pageX,n=o.changedTouches[0].pageY):(i=o.pageX,n=o.pageY),i-=this.wrapper.offset().left,n-=this.wrapper.offset().top),this.zoom<this.options.zoomMin&&(this.zoom=this.options.zoomMin),this.zoom>this.options.zoomMax&&(this.zoom=this.options.zoomMax),this.options.zoomMax2&&this.zoom>this.options.zoomMax2&&(this.zoom=this.options.zoomMax2),this.Book.zoomTo(this.zoom,t,i,n),this.onZoom(this.zoom)},zoomOut:function(e){var t=this.zoom/this.options.zoomStep;if(t<1&&this.zoom>1&&(t=1),t=t<this.options.zoomMin?this.options.zoomMin:t,this.zoom!=t){this.zoom=t;var o=this.options.zoomTime;this.zoomTo(this.zoom,o,e)}},zoomIn:function(e){var t=this.zoom*this.options.zoomStep;t>1&&this.zoom<1&&(t=1),t>this.options.zoomMax&&(t=this.options.zoomMax),this.zoom!=t&&(this.zoom=t,this.zoomTo(this.zoom,this.options.zoomTime,e))},nextPage:function(){this.Book&&this.Book.nextPage()},prevPage:function(){this.Book&&this.Book.prevPage()},firstPage:function(){this.goToPage(1)},lastPage:function(){this.goToPage(this.options.pages.length)},goToPage:function(e,t){this.options.cover||e++,e<1?e=1:e>this.options.numPages&&!this.options.rightToLeft&&(e=this.options.numPages),this.Book&&this.Book.goToPage(e,t)},moveBook:function(e){this.Book&&this.Book.move&&this.Book.move(e)},onZoom:function(e){this.zoom=e,this.enableButton(this.btnZoomIn,e<this.options.zoomMax),this.enableButton(this.btnZoomOut,e>this.options.zoomMin),this.enableSwipe(e<=1)},enableSwipe:function(e){this.swipeEnabled=e},createCurrentPage:function(){var e,t=this,i=this.options,n="flipbook-currentPageHolder ";e="top"==i.currentPage.vAlign?"left"==i.currentPage.hAlign?this.menuTL:"right"==i.currentPage.hAlign?this.menuTR:this.menuTC:"left"==i.currentPage.hAlign?this.menuBL:"right"==i.currentPage.hAlign?this.menuBR:this.menuBC;var s="top"==i.currentPage.vAlign&&i.menu2Transparent||"top"!=i.currentPage.vAlign&&i.menuTransparent,a=s?i.floatingBtnBackground:"",r=s?i.floatingBtnColor:i.btnColor,l=s?i.floatingBtnTextShadow:"",h=s?i.floatingBtnRadius:i.btnRadius,d=(s?i.floatingBtnMargin:i.btnMargin,jQuery("<div>").appendTo(e));d.css("margin",i.currentPage.marginV+"px "+i.currentPage.marginH+"px"),s||(n+="skin-color "),d.addClass(n).css({color:r,background:a,"text-shadow":l,"border-radius":h+"px"}),i.currentPage.order&&d.css("order",i.currentPage.order),this.currentPageHolder=d,this.currentPage=jQuery(o.createElement("div")).addClass("flipbook-currentPageNumber").appendTo(d);var p=jQuery("<form>").appendTo(d).submit(function(e){var o=parseInt(t.currentPageInput.val());return o=o>i.pages.length?i.pages.length:o,t.options.rightToLeft&&(o=i.pages.length-o+1),o+=t.options.pageNumberOffset,t.goToPage(o),t.currentPageInput.trigger("blur"),!1});this.currentPageInput=jQuery('<input type="text" maxlength="4">').addClass("flipbook-currentPageInput").css({margin:i.currentPage.marginV+"px "+i.currentPage.marginH+"px",color:r}).appendTo(p).val("").focus(function(){t.currentPageInput.val(""),t.currentPage.addClass("flipbook-color-transparent")}).blur(function(){t.currentPageInput.val(""),t.currentPage.removeClass("flipbook-color-transparent")}),s||this.currentPageInput.addClass("skin-color")},createMenuHeader:function(e,t,o){var i=this,n=jQuery("<div>").addClass("flipbook-menu-header skin-clor flipbook-font").appendTo(e),s=(t=jQuery("<span>").text(t).addClass("flipbook-menu-title skin-color").appendTo(n),jQuery("<span>").appendTo(n).addClass("flipbook-btn-close").bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),i.closeMenus()}));this.createIcon(this.options.btnClose,null,!0).appendTo(s)},createToc:function(){var e=this,t=this.options.tableOfContent;if(t&&t.length||!this.pdfService||this.pdfService.outlineLoaded){if(this.tocHolder=jQuery("<div>").addClass("flipbook-tocHolder flipbook-side-menu skin-color-bg").appendTo(this.wrapper).css(this.options.sideMenuPosition,"0").hide(),this.createMenuHeader(this.tocHolder,this.strings.tableOfContent,this.toggleToc),this.toc=jQuery("<div>").addClass("flipbook-toc").appendTo(this.tocHolder),this.tocScroller=jQuery("<div>").addClass("flipbook-toc-scroller").appendTo(this.toc),this.tocScroll=new FLIPBOOK.IScroll(e.toc[0],{bounce:!1,mouseWheel:!0,scrollbars:!0,interactiveScrollbars:!0}),t&&t.length>0){this.options.pages;for(var o=0;o<t.length;o++)this.createTocItem(t[o])}else{var i=this.options.pages;for(o=0;o<i.length;o++){var n=i[o].title;if(""!=n&&void 0!==n){var s={title:n,page:String(o+1)};this.createTocItem(s)}}}this.initColors(),this.tocScroll.refresh(),this.tocCreated=!0,this.toggleToc()}else e.pdfService.loadOutline(function(t){e.options.tableOfContent=t;var o=new EventBus,i={scrollPageIntoView:function(e){var t=e.pageNumber,o=$annotations[processingAnnotationIndex];o&&(o.dataset.page=t,processingAnnotationIndex++,processAnotations())}};new PDFLinkService({eventBus:o}).setViewer(i),e.createToc()})},createTocItem:function(e,t,i){var n=this,s=(t=t||this.tocScroller,this.options.rightToLeft),a=jQuery(o.createElement("a")).attr("class","flipbook-tocItem").addClass("skin-color").css("direction",s?"rtl":"ltr").appendTo(t).bind("touchend click",function(t){if(t.stopPropagation(),t.preventDefault(),!n.tocScroll.moved)if(n.options.tableOfContentCloseOnClick&&n.toggleToc(!1),!e.page&&e.dest){function o(e){n.pdfService.pdfDocument.getPageIndex(e[0]).then(function(e){var t=e+1;n.options.doublePage&&(t=2*t-1),t=n.options.rightToLeft?n.options.pages.length-t+1:t,setTimeout(function(){n.goToPage(t)},200)})}"string"==typeof e.dest?n.pdfService.pdfDocument.getDestination(e.dest).then(function(e){o(e)}):o(e.dest)}else{var i=Number(e.page);i=n.options.rightToLeft?n.options.pages.length-i+1:i,setTimeout(function(){n.goToPage(i)},200)}});i||(i=0),a.level=i,a.css("padding","8px 0"),a.css("margin-"+(s?"right":"left"),"10px"),i?(a.css("margin-top","8px"),a.css("padding-bottom","0")):(a.css("margin-right","15px"),a.css("padding-left","10px"));var r=jQuery(o.createElement("span")).appendTo(a).css("width","20px").css("display","inline-block").css("cursor","auto").bind("touchend click",function(e){e.stopPropagation(),e.preventDefault();for(var t=0;t<a.items.length;t++)a.items[t].toggle();l.toggle(),h.toggle(),n.tocScroll.refresh()}),l=jQuery("<span>").attr("aria-hidden","true").appendTo(r).addClass("flipbook-icon-angle-"+(s?"left":"right")+" skin-color").hide(),h=jQuery("<span>").attr("aria-hidden","true").appendTo(r).addClass("flipbook-icon-angle-down skin-color").hide();if(jQuery(o.createElement("span")).appendTo(a).addClass("title").text(e.title).css("width",String(170-10*a.level)+"px"),!e.pageHidden){var d=e.page-this.options.pageNumberOffset;d&&jQuery(o.createElement("span")).appendTo(a).width("25px").css("display","inline-block").css("text-align","right").text(d)}if(e.items&&e.items.length){a.items=[];for(var p=0;p<e.items.length;p++){var c=this.createTocItem(e.items[p],a,a.level+1);a.items.push(c),c.hide()}l.show()}return a},enablePrev:function(e){this.enableButton(this.btnPrev,e),this.enableButton(this.btnFirst,e),this.Book.enablePrev(e)},enableNext:function(e){this.enableButton(this.btnNext,e),this.enableButton(this.btnLast,e),this.Book.enableNext(e)},enableButton:function(e,t){void 0!==e&&(t?(e.css("opacity","1"),e.css("pointer-events","auto")):(e.css("opacity","0.2"),e.css("pointer-events","none")),e.enabled=t)},resize:function(){var e=this.options;if(this.wrapperW=this.bookLayer.width(),this.wrapperH=this.bookLayer.height(),!this.wrapperH){var t=this.elem[0].cloneNode(!0);o.body.appendChild(t);var i=jQuery(t);if(this.wrapperW=i.width(),this.wrapperH=i.height(),!e.menuOverBook&&this.menuShowing&&this.menuBottom){var n=this.menuBottom[0].cloneNode(!0);o.body.appendChild(n),this.wrapperH-=jQuery(n).height(),o.body.removeChild(n)}o.body.removeChild(t)}if(this.Book&&this.Book.enabled){!e.menuOverBook&&this.menuShowing&&this.menuBottom?this.bookLayer.css("bottom",this.menuBottom.outerHeight()+"px"):this.bookLayer.css("bottom","0px"),!e.menu2OverBook&&this.menuShowing&&this.menuTop?this.bookLayer.css("top",this.menuTop.outerHeight()+"px"):this.bookLayer.css("top","0px"),this.tocShowing||this.thumbsShowing||this.searchShowing||this.bookmarkShowing?(e.sideMenuOverBook||this.bookLayer.css(this.options.sideMenuPosition,"250px"),this.options.sideMenuOverMenu||this.wrapper.find(".flipbook-side-menu").css("bottom",this.menuBottom.outerHeight()+"px"),this.options.sideMenuOverMenu2||this.wrapper.find(".flipbook-side-menu").css("top",this.menuTop.outerHeight()+"px")):this.bookLayer.css(this.options.sideMenuPosition,"0px");var s=this.wrapperW/this.wrapperH,a=this.pageW/this.pageH,r=2*a;e.responsiveView&&this.wrapperW<=e.responsiveViewTreshold&&s<2*a&&s<e.responsiveViewRatio?e.zoomMax=s>a?e.zoomSize/this.wrapperH:e.zoomSize/this.wrapperH*(a/s):e.zoomMax=s>r?e.zoomSize/this.wrapperH:e.zoomSize/this.wrapperH*(r/s),e.zoomMax<e.zoomMin&&(e.zoomMax=e.zoomMin),this.zoom=e.zoomMin,this.Book.onResize(),this.options.zoomReset&&this.Book.zoomTo(this.options.zoomMin)}},pdfResize:function(){this.Book.onZoom()},createThumbs:function(){this.thumbs=new FLIPBOOK.Thumbnails(this)},toggleThumbs:function(e){this.thumbs||this.createThumbs(),void 0!==e&&(this.thumbsShowing=!e),this.thumbsShowing?(this.thumbs.hide(),this.thumbsShowing=!1):(this.closeMenus(),this.thumbs.show(),this.thumbsShowing=!0),this.resize()},toggleToc:function(e){this.tocCreated?(!this.tocShowing||e?(this.closeMenus(),this.tocShowing=!0,this.tocHolder.show(),this.tocScroll.refresh()):(this.tocHolder.hide(),this.tocShowing=!1),this.resize()):this.createToc()},toggleSearch:function(e){this.thumbs||this.createThumbs(),void 0!==e&&(this.searchShowing=!e),this.searchShowing?(this.thumbs.hide(),this.searchShowing=!1,this.unmark()):(this.closeMenus(),this.thumbs.show(),this.thumbs.showSearch(),this.searchShowing=!0),this.resize()},toggleBookmark:function(e){this.thumbs||this.createThumbs(),void 0!==e&&(this.bookmarkShowing=!e),this.bookmarkShowing?(this.thumbs.hide(),this.bookmarkShowing=!1):(this.closeMenus(),this.thumbs.show(),this.thumbs.showBookmarks(),this.bookmarkShowing=!0),this.resize()},closeMenus:function(){this.thumbsShowing&&this.toggleThumbs(),this.tocShowing&&this.toggleToc(),this.searchShowing&&this.toggleSearch(),this.bookmarkShowing&&this.toggleBookmark(),this.printMenuShowing&&this.togglePrintMenu(),this.dlMenuShowing&&this.toggleDownloadMenu(),this.shareMenuShowing&&this.toggleShareMenu(),this.passwordMenuShowing&&this.togglePasswordMenu()},togglePrintMenu:function(){var e=this;if(this.printMenu)this.printMenuShowing?(this.printMenu.hide(),this.printMenuShowing=!1):(this.closeMenus(),this.printMenu.show(),this.printMenuShowing=!0,this.updateCurrentPage());else{this.printMenu=jQuery('<div class="flipbook-sub-menu flipbook-font">').appendTo(this.wrapper);var t=jQuery('<div class="flipbook-sub-menu-center">').appendTo(this.printMenu),o=jQuery('<div class="flipbook-sub-menu-content skin-color-bg">').appendTo(t);this.createMenuHeader(o,this.strings.print,this.togglePrintMenu);jQuery('<a><div class="c-p skin-color flipbook-btn">'+this.strings.printCurrentPage+"</div></a>").appendTo(o).bind("touchend click",function(t){e.printPage(e.cPage[0],this)}),jQuery('<a><div class="c-l-p skin-color flipbook-btn">'+this.strings.printLeftPage+"</div></a>").appendTo(this.printMenu).appendTo(o).bind("touchend click",function(t){e.printPage(e.cPage[0],this)}),jQuery('<a><div class="c-r-p skin-color flipbook-btn">'+this.strings.printRightPage+"</div></a>").appendTo(this.printMenu).appendTo(o).bind("touchend click",function(t){e.printPage(e.cPage[1],this)}),jQuery('<a><div class="skin-color flipbook-btn">'+this.strings.printAllPages+"</div></a>").appendTo(o).bind("touchend click",function(t){e.togglePrintWindow()});this.closeMenus(),this.printMenuShowing=!0,this.initColors(),this.updateCurrentPage()}},toggleDownloadMenu:function(){var e=this;if(this.dlMenu)this.dlMenuShowing?(this.dlMenu.hide(),this.dlMenuShowing=!1):(this.dlMenu.show(),this.closeMenus(),this.dlMenuShowing=!0,this.updateCurrentPage());else{this.dlMenu=jQuery('<div class="flipbook-sub-menu flipbook-font">').appendTo(this.wrapper);var t=jQuery('<div class="flipbook-sub-menu-center">').appendTo(this.dlMenu),i=jQuery('<div class="flipbook-sub-menu-content skin-color-bg">').appendTo(t);this.createMenuHeader(i,this.strings.download,this.toggleDownloadMenu);jQuery('<a><div class="c-p skin-color flipbook-btn">'+this.strings.downloadCurrentPage+"</div></a>").appendTo(i).bind("touchend click",function(t){e.downloadPage(e.cPage[0],this)}),jQuery('<a><div class="c-l-p skin-color flipbook-btn">'+this.strings.downloadLeftPage+"</div></a>").appendTo(i).bind("touchend click",function(t){e.downloadPage(e.cPage[0],this)}),jQuery('<a><div class="c-r-p skin-color flipbook-btn">'+this.strings.downloadRightPage+"</div></a>").appendTo(i).bind("touchend click",function(t){e.downloadPage(e.cPage[1],this)}),jQuery('<a><div class="skin-color flipbook-btn">'+this.strings.downloadAllPages+"</div></a>").appendTo(i).bind("touchend click",function(t){var i=o.createElement("a");i.href=e.options.btnDownloadPages.url;var n=i.href.split("/").pop().split("#")[0].split("?")[0];i.download=n,i.dispatchEvent(new MouseEvent("click"))});this.closeMenus(),this.dlMenuShowing=!0,this.initColors(),this.updateCurrentPage()}},toggleShareMenu:function(){if(this.shareMenu)this.shareMenuShowing?(this.shareMenu.hide(),this.shareMenuShowing=!1):(this.shareMenu.show(),this.closeMenus(),this.shareMenuShowing=!0);else{this.shareMenu=jQuery(o.createElement("div")).appendTo(this.wrapper).addClass("flipbook-sub-menu flipbook-font");var e=jQuery(o.createElement("div")).appendTo(this.shareMenu).addClass("flipbook-sub-menu-center"),i=jQuery(o.createElement("div")).appendTo(e).addClass("flipbook-sub-menu-content skin-color-bg");this.createMenuHeader(i,this.options.strings.share,this.toggleShareMenu);var n=this.options,s=jQuery('<div class="flipbook-share"><ul></ul></div>').appendTo(i).find("ul"),a=t.screen.width/2-300,r=t.screen.height/2-300;["facebook","twitter","pinterest","linkedin","email","whatsapp","digg","reddit"].forEach(function(e){n[e].enabled&&jQuery('<li data-network="'+e+'"><i class="'+n[e].icon+" skin-color flipbook-color-"+n.skin+'"></i></li>').appendTo(s).bind("tap click",function(e){e.preventDefault(),e.stopPropagation();var o,i=this.dataset.network,s=encodeURIComponent(n.shareTitle||n[i].description||"Check out this flipbook"),l=encodeURIComponent(n.shareUrl||t.location.href),h=encodeURIComponent(n.shareImage||"");switch(i){case"facebook":o="https://www.facebook.com/sharer.php?u="+l+"&t="+s;break;case"twitter":o="https://twitter.com/intent/tweet?text="+s+"&url="+l;break;case"linkedin":o="https://www.linkedin.com/shareArticle?mini=true&url="+l+"&title="+s;break;case"pinterest":o="https://www.pinterest.com/pin/create/button/?url="+l+"&media="+h+"&description="+s;break;case"email":o="mailto:?subject="+s+"&body="+l;break;case"digg":o="http://digg.com/submit?url="+l+"&title="+s;break;case"reddit":o="http://reddit.com/submit?url="+l+"&title="+s;break;case"whatsapp":o=n.isMobile?"whatsapp://send?text="+s+"%20"+l:"https://wa.me?text="+s+"%20"+l}t.open(o,"Share","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=600, height=600, top="+r+", left="+a)})}),this.closeMenus(),this.shareMenuShowing=!0,this.initColors()}},bookmarkPage:function(e){var t=this.getBookmarkedPages();t.indexOf(String(e))<0&&t.push(e),this.setBookmarkedPages(t),this.thumbs.showBookmarkedThumbs(),this.bookmarkShowing||this.toggleBookmark()},removeBookmark:function(e){var t=this.getBookmarkedPages();t.indexOf(String(e))>-1&&t.splice(t.indexOf(String(e)),1),this.setBookmarkedPages(t),this.thumbs.showBookmarkedThumbs(),this.bookmarkShowing||this.toggleBookmark()},isBookmarked:function(e){return this.getBookmarkedPages().indexOf(String(e))>0},getBookmarkedPages:function(){var e=localStorage.getItem(this.options.name+"_flipbook_bookmarks");return e?e.split(";"):[]},setBookmarkedPages:function(e){localStorage.setItem(this.options.name+"_flipbook_bookmarks",e.join(";"))},printPage:function(e,t){var i,n=this.options.pages[e],s=this.options.pageTextureSize;if(n)if(n.print)i=n.print;else if(n.canvas&&n.canvas[s]){var a=n.canvas[s];if("webgl"==this.options.viewMode){var r=o.createElement("canvas"),l=r.getContext("2d");r.width=a.width,r.height=a.height,a.scaleX&&(r.width=a.width*a.scaleX),a.scaleY&&(r.height=a.height*a.scaleY),"right"==n.side?l.drawImage(a,r.width,0,r.width,r.height,0,0,r.width,r.height):l.drawImage(a,0,0),i=r.toDataURL()}else i=n.canvas[s].toDataURL()}else n.src&&(i=n.src);if(i){var h=o.createElement("img");h.src=i,o.body.appendChild(h),this.togglePrintWindow(i)}else{var d=this;this.loadPage(e,s,function(){d.printPage(e)})}},downloadPage:function(e){var t;if(this.options.pages[e]&&this.options.pages[e].download)t=this.options.pages[e].download;else if(this.options.pages[e]&&this.options.pages[e].src)t=this.options.pages[e].src;else if(this.options.pages[e]&&this.options.pages[e].canvas&&this.options.pages[e].canvas[this.options.pageTextureSize]){var i=o.createElement("canvas"),n=this.options.pageWidth/this.options.pageHeight;i.width=this.options.pageTextureSize*n,i.height=this.options.pageTextureSize,i.getContext("2d").drawImage(this.options.pages[e].canvas[this.options.pageTextureSize],0,0),t=i.toDataURL("image/jpeg",.5)}if(t){var s=o.createElement("a");s.href=t,s.download="page"+String(e+1),o.body.appendChild(s),s.click(),o.body.removeChild(s)}else{var a=this;this.loadPage(e,this.options.pageTextureSize,function(){a.downloadPage(e)})}},printFile:function(e){var t=o.createElement("iframe");t.style.display="none",t.src=e,o.body.appendChild(t),t.contentWindow.onload=function(){var e=this;setTimeout(function(){e.print()},100)}},togglePrintWindow:function(e){var o=this,i="";if(e)i=e;else{if(o.options.printPdfUrl)return void o.printFile(o.options.printPdfUrl);if(o.options.pdfUrl)return void o.printFile(o.options.pdfUrl)}!function(){var n=t.open("about:blank","_new");if(n.document.open(),e)i='<img src="'+e+'"/>\n';else for(var s=0;s<o.options.pages.length;s++)o.options.pages[s].src&&(i+='<img src="'+o.options.pages[s].src.toString()+'"/>\n');var a=function(e){return"<html>\n<head>\n<title>Temporary Printing Window</title>\n<script>\nfunction step1() {\n  setTimeout('step2()', 10);\n}\nfunction step2() {\n  window.addEventListener('afterprint', function(){\n       debugger;\n       window.close();\n  });\n  window.print();\n}\n<\/script>\n<style>img {display:block; max-width:100%; page-break-after: always;}@media print header{ display: none; }</style>\n</head>\n<body onLoad='step1()'>\n"+e+"</body>\n</html>\n"}(i);n.document.write(a),n.document.close()}()},thumbsVertical:function(){this.thumbsCreated&&(this.thumbScroll.hScroll=!1,this.thumbScroll.vScroll=!0,this.thumbScroll.refresh())},toggleExpand:function(e){screenfull.enabled?screenfull.toggle(this.fullscreenElement):(this.isFullscreen=!this.isFullscreen,this.handleFsChange(!0))},expand:function(){},toggleAutoplay:function(e){var t=this;this.autoplay=e||!this.autoplay,this.autoplay?this.autoplayTimer=setInterval(function(){if(t.autoplay){var e=t.options.autoplayStartPage||1;t.options.rightToLeft?t.Book.prevEnabled?t.prevPage():t.options.autoplayLoop?t.goToPage(t.options.pages.length-e+1):t.toggleAutoplay(!1):t.Book.nextEnabled?t.nextPage():t.options.autoplayLoop?t.goToPage(e):t.toggleAutoplay(!1)}},t.options.autoplayInterval):clearInterval(t.autoplayTimer),this.toggleIcon(this.btnAutoplay,!this.autoplay)},triggerResizeOnce:function(){setTimeout(function(){jQuery(t).trigger("resize")},100),setTimeout(function(){jQuery(t).trigger("resize")},500)},triggerResize:function(){setTimeout(function(){jQuery(t).trigger("resize")},100),setTimeout(function(){jQuery(t).trigger("resize")},500),setTimeout(function(){jQuery(t).trigger("resize")},2e3)},initEasing:function(){t.jQuery.extend(t.jQuery.easing,{def:"easeOutQuad",swing:function(e,t,o,i,n){return jQuery.easing[jQuery.easing.def](e,t,o,i,n)},easeInQuad:function(e,t,o,i,n){return i*(t/=n)*t+o},easeOutQuad:function(e,t,o,i,n){return-i*(t/=n)*(t-2)+o},easeInOutQuad:function(e,t,o,i,n){return(t/=n/2)<1?i/2*t*t+o:-i/2*(--t*(t-2)-1)+o},easeInCubic:function(e,t,o,i,n){return i*(t/=n)*t*t+o},easeOutCubic:function(e,t,o,i,n){return i*((t=t/n-1)*t*t+1)+o},easeInOutCubic:function(e,t,o,i,n){return(t/=n/2)<1?i/2*t*t*t+o:i/2*((t-=2)*t*t+2)+o},easeInQuart:function(e,t,o,i,n){return i*(t/=n)*t*t*t+o},easeOutQuart:function(e,t,o,i,n){return-i*((t=t/n-1)*t*t*t-1)+o},easeInOutQuart:function(e,t,o,i,n){return(t/=n/2)<1?i/2*t*t*t*t+o:-i/2*((t-=2)*t*t*t-2)+o},easeInQuint:function(e,t,o,i,n){return i*(t/=n)*t*t*t*t+o},easeOutQuint:function(e,t,o,i,n){return i*((t=t/n-1)*t*t*t*t+1)+o},easeInOutQuint:function(e,t,o,i,n){return(t/=n/2)<1?i/2*t*t*t*t*t+o:i/2*((t-=2)*t*t*t*t+2)+o},easeInSine:function(e,t,o,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+o},easeOutSine:function(e,t,o,i,n){return i*Math.sin(t/n*(Math.PI/2))+o},easeInOutSine:function(e,t,o,i,n){return-i/2*(Math.cos(Math.PI*t/n)-1)+o},easeInExpo:function(e,t,o,i,n){return 0==t?o:i*Math.pow(2,10*(t/n-1))+o},easeOutExpo:function(e,t,o,i,n){return t==n?o+i:i*(1-Math.pow(2,-10*t/n))+o},easeInOutExpo:function(e,t,o,i,n){return 0==t?o:t==n?o+i:(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+o:i/2*(2-Math.pow(2,-10*--t))+o},easeInCirc:function(e,t,o,i,n){return-i*(Math.sqrt(1-(t/=n)*t)-1)+o},easeOutCirc:function(e,t,o,i,n){return i*Math.sqrt(1-(t=t/n-1)*t)+o},easeInOutCirc:function(e,t,o,i,n){return(t/=n/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+o:i/2*(Math.sqrt(1-(t-=2)*t)+1)+o},easeInElastic:function(e,t,o,i,n){var s=1.70158,a=0,r=i;if(0==t)return o;if(1==(t/=n))return o+i;if(a||(a=.3*n),r<Math.abs(i)){r=i;s=a/4}else s=a/(2*Math.PI)*Math.asin(i/r);return-r*Math.pow(2,10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/a)+o},easeOutElastic:function(e,t,o,i,n){var s=1.70158,a=0,r=i;if(0==t)return o;if(1==(t/=n))return o+i;if(a||(a=.3*n),r<Math.abs(i)){r=i;s=a/4}else s=a/(2*Math.PI)*Math.asin(i/r);return r*Math.pow(2,-10*t)*Math.sin((t*n-s)*(2*Math.PI)/a)+i+o},easeInOutElastic:function(e,t,o,i,n){var s=1.70158,a=0,r=i;if(0==t)return o;if(2==(t/=n/2))return o+i;if(a||(a=n*(.3*1.5)),r<Math.abs(i)){r=i;s=a/4}else s=a/(2*Math.PI)*Math.asin(i/r);return t<1?r*Math.pow(2,10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/a)*-.5+o:r*Math.pow(2,-10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/a)*.5+i+o},easeInBack:function(e,t,o,n,s,a){return a==i&&(a=1.70158),n*(t/=s)*t*((a+1)*t-a)+o},easeOutBack:function(e,t,o,n,s,a){return a==i&&(a=1.70158),n*((t=t/s-1)*t*((a+1)*t+a)+1)+o},easeInOutBack:function(e,t,o,n,s,a){return a==i&&(a=1.70158),(t/=s/2)<1?n/2*(t*t*((1+(a*=1.525))*t-a))+o:n/2*((t-=2)*t*((1+(a*=1.525))*t+a)+2)+o},easeInBounce:function(e,t,o,i,n){return i-jQuery.easing.easeOutBounce(e,n-t,0,i,n)+o},easeOutBounce:function(e,t,o,i,n){return(t/=n)<1/2.75?i*(7.5625*t*t)+o:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+o:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+o:i*(7.5625*(t-=2.625/2.75)*t+.984375)+o},easeInOutBounce:function(e,t,o,i,n){return t<n/2?.5*jQuery.easing.easeInBounce(e,2*t,0,i,n)+o:.5*jQuery.easing.easeOutBounce(e,2*t-n,0,i,n)+.5*i+o}})}},FLIPBOOK.Book=function(){},FLIPBOOK.Book.prototype={rightIndex:0,goToPage:function(){},getRightIndex:function(){},canFlipNext:function(){return this.flippedright>0&&(1==this.view?this.isFocusedLeft&&this.isFocusedLeft():!(1==this.flippedright&&!this.options.rightToLeft&&!this.options.backCover))},canFlipPrev:function(){return this.flippedleft>0&&(1==this.view?this.isFocusedRight&&this.isFocusedRight():!(1==this.flippedleft&&this.options.rightToLeft&&!this.options.backCover))},getCurrentPageNumber:function(){var e=this.rightIndex%2==1?this.rightIndex+1:this.rightIndex;return this.options.rightToLeft?(e=this.options.pages.length-e,this.isFocusedRight()?e:e+1):this.isFocusedLeft()?e:e+1}},FLIPBOOK.Thumbnails=function(e){var t=this,i=e.options,n=e.wrapper;this.main=e,this.options=i,this.wrapper=n,this.active=null,jQuery(e).bind("pagechange",function(){t.updateWrapperHeight()}),this.thumbHolder=jQuery(o.createElement("div")).addClass("flipbook-thumbHolder flipbook-side-menu skin-color-bg").appendTo(n).css(this.options.sideMenuPosition,"0").hide(),this.thumbsWrapper=jQuery(o.createElement("div")).appendTo(this.thumbHolder).addClass("flipbook-thumbsWrapper"),this.thumbsScroller=jQuery(o.createElement("div")).appendTo(this.thumbsWrapper).addClass("flipbook-thumbsScroller"),e.createMenuHeader(this.thumbHolder,e.strings.thumbnails,e.toggleThumbs),this.bookmark=jQuery("<div>").addClass("flipbook-font").appendTo(this.thumbHolder).hide();jQuery('<a><div class="c-p skin-color flipbook-btn">'+i.strings.bookmarkCurrentPage+"</div></a>").appendTo(this.bookmark).bind("touchend click",function(t){e.bookmarkPage(e.cPage[0],this),t.preventDefault(),t.stopPropagation()}),jQuery('<a><div class="c-l-p skin-color flipbook-btn">'+i.strings.bookmarkLeftPage+"</div></a>").appendTo(this.bookmark).bind("touchend click",function(t){e.bookmarkPage(e.cPage[0],this),t.preventDefault(),t.stopPropagation()}),jQuery('<a><div class="c-r-p skin-color flipbook-btn">'+i.strings.bookmarkRightPage+"</div></a>").appendTo(this.bookmark).bind("touchend click",function(t){e.bookmarkPage(e.cPage[1],this),t.preventDefault(),t.stopPropagation()});this.search=jQuery("<div>").addClass("flipbook-search").appendTo(this.thumbHolder).hide(),this.$searchBar=jQuery('<div class="flipbook-findbar" id="findbar" deluminate_imagetype="png"><div id="findbarInputContainer"><input id="findInput" class="toolbarField" title="Find" placeholder="'+i.strings.findInDocument+'..."></div><div class="flipbook-find-info skin-color"/></div>').appendTo(this.search),this.$findInput=this.$searchBar.find("#findInput").keyup(function(){var e=this.value;if(""!=e){var o=t.main,i=o.pdfService,n=o.options,s=0;if(t.hideAllThumbs(),t.clearSearchResults(),t.pagesFound=0,t.$findInfo.hide(),o.unmark(),o.searchingString=e,t.$findInfo.show().text(n.strings.noMatches),i)for(var a=0;a<i.pdfInfo.numPages;a++)i.findInPage(e,a,function(o,i,a,r){o.length>0&&(t.pagesFound++,s+=o.length,t.$findInfo.show().text(s+" "+n.strings.matchesFound),t.main.mark(e),t.showSearchResults(o,a,r))});else for(a=0;a<n.pagesOriginal.length;a++){var r=a;n.doublePage&&(r*=2),n.doublePage&&r==2*n.pagesOriginal.length-2&&r--,o.loadPageHTML(r,function(i,s){i.innerText.toUpperCase().search(o.searchingString.toUpperCase())>0&&(n.doublePage&&(s/=2),t.showThumb(s),t.pagesFound++,t.$findInfo.show().text(t.pagesFound+" "+n.strings.pagesFoundContaining+' "'+e+'"'),t.main.mark(e)),0==t.pagesFound&&t.$findInfo.show().text(n.strings.noMatches)})}}else t.hideAllThumbs(),t.clearSearchResults(),t.$findInfo.hide(),t.main.unmark(),t.main.searchingString=e}),this.$findInfo=this.$searchBar.find(".flipbook-find-info"),this.thumbs=[];var s=i.pages,a=[];if(i.doublePage)for(var r=0;r<s.length;r++)0!=r&&r%2==0||a.push(s[r]);else a=s;i.pdfMode&&this.loadThumbsFromPdf(a);var l=i.thumbSize,h=i.thumbSize*i.pageWidth/i.pageHeight;for(r=0;r<a.length;r++){var d=a[r].thumb;if(!a[r].empty){var p=jQuery("<div>").addClass("flipbook-thumb").appendTo(t.thumbsScroller).attr("data-thumb-index",r).width(h).height(l),c=jQuery("<span>").appendTo(p).addClass("thumb-btn-close").bind("touchend click",function(t){t.stopPropagation(),t.preventDefault(),e.removeBookmark(jQuery(this).parent().attr("data-thumb-index"))});jQuery("<span>").attr("aria-hidden","true").appendTo(c).addClass("flipbook-icon-times skin-color");if(this.thumbs.push(p),a[r].thumbCanvas)var u=jQuery(a[r].thumbCanvas);else{if(!d)continue;(u=jQuery("<img/>").attr("src",d))[0].onload=function(){t.thumbScroll.refresh()}}u.appendTo(p),jQuery("<br/>").appendTo(p);var g=i.doublePage&&i.pages.length%2==0&&r==a.length-1,b=i.doublePage&&0==r,f=i.doublePage&&!b&&!g;if(g){u.height(l).width(h).attr("page-title",2*r);jQuery(o.createElement("soan")).text(String(2*r)).appendTo(p).addClass("skin-color").addClass("flipbook-thumb-num")}else if(f){p.width(2*h),u.height(l).width(2*h).attr("page-title",2*r+1);jQuery(o.createElement("soan")).text(String(2*r)+"-"+String(2*r+1)).appendTo(p).addClass("skin-color").addClass("flipbook-thumb-num")}else{u.height(l).width(h).attr("page-title",r+1);var m=String(r+1);this.options.pages[r]&&this.options.pages[r].title&&(m=this.options.pages[r].title);jQuery(o.createElement("span")).text(m).appendTo(p).addClass("skin-color").addClass("flipbook-thumb-num")}u.bind("touchend click",function(o){if(o.stopPropagation(),o.preventDefault(),!t.thumbScroll.moved){var n=Number(jQuery(this).attr("page-title"));i.rightToLeft&&(n=i.pages.length-n+1),setTimeout(function(){e.goToPage(n)},200),"search"!=t.active&&i.thumbsCloseOnClick&&e.toggleThumbs(!1)}})}}this.thumbScroll=new FLIPBOOK.IScroll(this.thumbsWrapper[0],{bounce:!1,mouseWheel:!0,scrollbars:!0,interactiveScrollbars:!0}),e.initColors()},FLIPBOOK.Thumbnails.prototype={loadThumbsFromPdf:function(e){for(var t=this.main.pdfDocument._pdfInfo.numPages,i=0;i<t;i++){var n=o.createElement("canvas");e[i].thumbCanvas=n}this.loadThumbFromPdf(0,e)},loadVisibleThumbs:function(){},loadThumbFromPdf:function(e,t){var o=this;this.main.pdfDocument.getPage(e+1).then(function(e){var i=e.getViewport({scale:1}),n=o.options.thumbSize/i.height,s=e.getViewport({scale:n}),a=t[e._pageIndex].thumbCanvas,r=a.getContext("2d");a.height=s.height,a.width=s.width;var l={canvasContext:r,viewport:s};e.cleanupAfterRender=!0,e.render(l).promise.then(function(){e.cleanup(),e._pageIndex+1<o.main.pdfDocument._pdfInfo.numPages&&o.loadThumbFromPdf(e._pageIndex+1,t)}),o.thumbScroll.refresh()})},showAllThumbs:function(){jQuery(".flipbook-thumb").show(),this.clearSearchResults(),this.thumbScroll.refresh()},hideAllThumbs:function(){jQuery(".flipbook-thumb").hide(),this.thumbScroll.refresh()},clearSearchResults:function(){jQuery(".flipbook-search-match").remove(),this.thumbScroll.refresh()},showSearchResults:function(e,t,o){var i=this,n=e.length,s=Number(t+1);jQuery('<div data-page="'+s+'" style="order: '+t+'" class="flipbook-search-match"><div class="flipbook-search-match-title"><span style="float:left;"><strong>Page '+s+'</strong></span><span style="float:right;">'+n+' matches</span></div><div class="flipbook-search-match-text">'+o+"</div></div>").appendTo(i.thumbsScroller).bind("tap click",function(e){e.stopPropagation(),e.preventDefault(),i.main.goToPage(this.dataset.page)}),this.updateWrapperHeight(),this.thumbScroll.refresh()},showThumb:function(e){this.thumbs[e]&&this.thumbs[e].show(),this.thumbScroll.refresh()},hideThumb:function(e){this.thumbs[e].hide(),this.thumbScroll.refresh()},showBookmarks:function(){jQuery(".thumb-btn-close").show(),this.showBookmarkedThumbs(),this.clearSearchResults(),this.bookmark.show(),this.setTitle(this.options.strings.bookmarks),this.main.updateCurrentPage(),this.active="bookmarks",this.updateWrapperHeight()},showSearch:function(){this.clearSearchResults(),this.hideAllThumbs(),this.search.show(),this.$findInfo.hide(),jQuery(".thumb-btn-close").hide(),this.setTitle(this.options.strings.search),this.$findInput.val("").focus(),this.active="search",this.updateWrapperHeight()},showBookmarkedThumbs:function(){var e=this.main.getBookmarkedPages();this.hideAllThumbs();for(var t=0;t<e.length;t++){var o=e[t];o&&this.showThumb(o)}this.updateWrapperHeight()},updateWrapperHeight:function(){var e=50;"bookmarks"==this.active?e+=this.bookmark.height():"search"==this.active&&(e+=this.search.height()),this.thumbsWrapper.css("top",e+"px")},show:function(){this.setTitle(this.options.strings.thumbnails),this.bookmark.hide(),this.search.hide(),this.thumbHolder.show(),this.main.thumbsVertical(),this.thumbsWrapper.css("top","50px"),this.showAllThumbs(),jQuery(".thumb-btn-close").hide(),this.loadVisibleThumbs(),this.main.resize(),this.active="thumbs"},hide:function(){this.thumbHolder.hide(),this.main.resize(),this.active=null},setTitle:function(e){this.thumbHolder.find(".flipbook-menu-title").text(e)}},FLIPBOOK.Lightbox=function(e,t,i){var n=this;this.context=e,this.options=i,this.$document=jQuery("document"),this.$body=jQuery("body"),this.$html=jQuery("html"),this.$window=jQuery("window"),e.$elem.bind("tap click",function(e){t.disposed||(n.openLightbox(),e.stopPropagation())});jQuery(e.elem).find("img");n.overlay=jQuery(o.createElement("div")).attr("style",i.lightboxCSS).addClass("flipbook-overlay").css("display","none").css("top",n.options.lightboxMarginV).css("bottom",n.options.lightboxMarginV).css("left",n.options.lightboxMarginH).css("right",n.options.lightboxMarginH).appendTo("body"),n.options.lightboxCloseOnClick&&jQuery("body").bind("tap click",function(e){var t=jQuery(e.target);(!t.parents().hasClass("flipbook-overlay")||t.hasClass("flipbook-bookLayer")||t.hasClass("flipbook-carousel-slide"))&&n.closeLightbox()}),i.lightboxBackground&&n.overlay.css("background",i.lightboxBackground),i.lightboxBackgroundColor&&n.overlay.css("background",i.lightboxBackgroundColor),i.lightboxBackgroundPattern&&n.overlay.css("background","url("+i.lightboxBackgroundPattern+") repeat"),i.lightboxBackgroundImage&&(n.overlay.css("background","url("+i.lightboxBackgroundImage+") no-repeat"),n.overlay.css("background-size","cover"),n.overlay.css("background-position","center center")),this.$document.keyup(function(e){27==e.keyCode&&n.closeLightbox()}),n.wrapper=jQuery(o.createElement("div")).css("height","auto").appendTo(n.overlay),n.wrapper.attr("class","flipbook-wrapper-transparent").css("margin","0px auto").css("padding","0px").css("height","100%").css("width","100%"),t.appendTo(n.wrapper);jQuery("<div/>").appendTo(n.wrapper).addClass("flipbook-lightbox-toolbar")},FLIPBOOK.Lightbox.prototype={openLightbox:function(){FLIPBOOK.lightboxOpened||(FLIPBOOK.lightboxOpened=!0,this.overlay.css("display","none"),this.overlay.fadeIn("slow"),this.$body.addClass("flipbook-overflow-hidden"),this.$html.addClass("flipbook-overflow-hidden"),this.$window.trigger("r3d-lightboxopen"),this.options.deeplinkingEnabled||t.history.pushState(null,"",t.location.href),this.context.options.password&&!this.context.pdfinitStarted&&this.context.initialized&&this.context.initPdf())},closeLightbox:function(e){FLIPBOOK.lightboxOpened&&this.context.Book&&this.context.Book.enabled&&(FLIPBOOK.lightboxOpened=!1,this.overlay.fadeOut("fast"),this.$body.removeClass("flipbook-overflow-hidden"),this.$html.removeClass("flipbook-overflow-hidden"),this.$window.trigger("r3d-lightboxclose"),this.context.trigger("lightboxclose"),jQuery(this.context.fullscreenElement).removeClass("flipbook-browser-fullscreen"),this.context.lightboxEnd(),e||this.options.deeplinkingEnabled||history.back())},resize:function(){var e=jQuery(t);e.width(),e.height()}},FLIPBOOK.getFlipbookSrc=function(){for(var e=o.getElementsByTagName("script"),t=0;t<e.length;t++){var i=String(e[t].src);if(i.match("flipbook\\.js")||i.match("flipbook\\.min\\.js"))return i;if(i.match("flipbook\\.lite\\.js")||i.match("flipbook\\.lite\\.min\\.js"))return i.replace(".lite","")}return""},FLIPBOOK.flipbookSrc=FLIPBOOK.getFlipbookSrc(),FLIPBOOK.iscrollSrc=FLIPBOOK.flipbookSrc.replace("flipbook.min","iscroll.min").replace("flipbook.js","iscroll.js"),FLIPBOOK.threejsSrc=FLIPBOOK.flipbookSrc.replace("flipbook.min","three.min").replace("flipbook.js","three.js"),FLIPBOOK.flipbookWebGlSrc=FLIPBOOK.flipbookSrc.replace("flipbook.min","flipbook.webgl.min").replace("flipbook.js","flipbook.webgl.js"),FLIPBOOK.flipbookBook3Src=FLIPBOOK.flipbookSrc.replace("flipbook.min","flipbook.book3.min").replace("flipbook.js","flipbook.book3.js"),FLIPBOOK.flipBookSwipeSrc=FLIPBOOK.flipbookSrc.replace("flipbook.min","flipbook.swipe.min").replace("flipbook.js","flipbook.swipe.js"),FLIPBOOK.pdfjsSrc=FLIPBOOK.flipbookSrc.replace("flipbook.min","pdf.min").replace("flipbook.js","pdf.js"),FLIPBOOK.pdfServiceSrc=FLIPBOOK.flipbookSrc.replace("flipbook.min","flipbook.pdfservice.min").replace("flipbook.js","flipbook.pdfservice.js"),FLIPBOOK.pdfjsworkerSrc=FLIPBOOK.flipbookSrc.replace("flipbook.min","pdf.worker.min").replace("flipbook.js","pdf.worker.js"),FLIPBOOK.markSrc="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.js",FLIPBOOK.scriptsLoaded={},FLIPBOOK.scriptsAdded={}}(jQuery,window,document),FLIPBOOK.onPageLinkClick=function(e){var t=e.dataset.bookid,o=e.dataset.page;o&&FLIPBOOK.books[t].goToPage(Number(o));var i=e.dataset.url;i&&window.open(i,"_blank")},function(){"use strict";var e="undefined"!=typeof window&&void 0!==window.document?window.document:{},t="undefined"!=typeof module&&module.exports,o="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,i=function(){for(var t,o=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,n=o.length,s={};i<n;i++)if((t=o[i])&&t[1]in e){for(i=0;i<t.length;i++)s[o[0][i]]=t[i];return s}return!1}(),n={change:i.fullscreenchange,error:i.fullscreenerror},s={request:function(t){return new Promise(function(n){var s=i.requestFullscreen,a=function(){this.off("change",a),n()}.bind(this);t=t||e.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?t[s]():t[s](o?Element.ALLOW_KEYBOARD_INPUT:{}),this.on("change",a)}.bind(this))},exit:function(){return new Promise(function(t){var o=function(){this.off("change",o),t()}.bind(this);e[i.exitFullscreen](),this.on("change",o)}.bind(this))},toggle:function(e){return this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(t,o){var i=n[t];i&&e.addEventListener(i,o,!1)},off:function(t,o){var i=n[t];i&&e.removeEventListener(i,o,!1)},raw:i};i?(Object.defineProperties(s,{isFullscreen:{get:function(){return Boolean(e[i.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[i.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(e[i.fullscreenEnabled])}}}),t?module.exports=s:window.screenfull=s):t?module.exports=!1:window.screenfull=!1}(),function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(e){"use strict";function t(t,T){function M(t){if(!(!0===Se.data(y+"_intouch")||e(t.target).closest(T.excludedElements,Se).length>0)){var a=t.originalEvent?t.originalEvent:t;if(!a.pointerType||"mouse"!=a.pointerType||0!=T.fallbackToMouseEvents){var r,l=a.touches,h=l?l[0]:a;return Be=v,l?xe=l.length:!1!==T.preventDefaultEvents&&t.preventDefault(),ce=0,ue=null,ge=null,we=null,be=0,fe=0,me=0,ke=1,ve=0,(d={})[o]=te(o),d[i]=te(i),d[n]=te(n),d[s]=te(s),Pe=d,q(),Y(0,h),!l||xe===T.fingers||T.fingers===m||R()?(ye=se(),2==xe&&(Y(1,l[1]),fe=me=ie(Oe[0].start,Oe[1].start)),(T.swipeStatus||T.pinchStatus)&&(r=j(a,Be))):r=!1,!1===r?(j(a,Be=S),r):(T.hold&&(Fe=setTimeout(e.proxy(function(){Se.trigger("hold",[a.target]),T.hold&&(r=T.hold.call(Se,a,a.target))},this),T.longTapThreshold)),X(!0),null)}}var d}function C(t){var d,p,c,u,g=t.originalEvent?t.originalEvent:t;if(Be!==P&&Be!==S&&!G()){var k,v=g.touches,B=J(v?v[0]:g);if(Te=se(),v&&(xe=v.length),T.hold&&clearTimeout(Fe),Be=w,2==xe&&(0==fe?(Y(1,v[1]),fe=me=ie(Oe[0].start,Oe[1].start)):(J(v[1]),me=ie(Oe[0].end,Oe[1].end),Oe[0].end,Oe[1].end,we=ke<1?r:a),ke=(me/fe*1).toFixed(2),ve=Math.abs(fe-me)),xe===T.fingers||T.fingers===m||!v||R()){if(ue=ne(B.start,B.end),function(e,t){if(!1!==T.preventDefaultEvents)if(T.allowPageScroll===l)e.preventDefault();else{var a=T.allowPageScroll===h;switch(t){case o:(T.swipeLeft&&a||!a&&T.allowPageScroll!=b)&&e.preventDefault();break;case i:(T.swipeRight&&a||!a&&T.allowPageScroll!=b)&&e.preventDefault();break;case n:(T.swipeUp&&a||!a&&T.allowPageScroll!=f)&&e.preventDefault();break;case s:(T.swipeDown&&a||!a&&T.allowPageScroll!=f)&&e.preventDefault()}}}(t,ge=ne(B.last,B.end)),c=B.start,u=B.end,ce=Math.round(Math.sqrt(Math.pow(u.x-c.x,2)+Math.pow(u.y-c.y,2))),be=oe(),function(e,t){e!=l&&(t=Math.max(t,ee(e)),Pe[e].distance=t)}(ue,ce),k=j(g,Be),!T.triggerOnTouchEnd||T.triggerOnTouchLeave){var x=!0;if(T.triggerOnTouchLeave){var O={left:(p=(d=e(d=this)).offset()).left,right:p.left+d.outerWidth(),top:p.top,bottom:p.top+d.outerHeight()};x=function(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}(B.end,O)}!T.triggerOnTouchEnd&&x?Be=E(w):T.triggerOnTouchLeave&&!x&&(Be=E(P)),Be!=S&&Be!=P||j(g,Be)}}else j(g,Be=S);!1===k&&j(g,Be=S)}}function L(e){var t=e.originalEvent?e.originalEvent:e,o=t.touches;if(o){if(o.length&&!G())return function(e){Me=se(),Ce=e.touches.length+1}(t),!0;if(o.length&&G())return!0}return G()&&(xe=Ce),Te=se(),be=oe(),D()||!Q()?j(t,Be=S):T.triggerOnTouchEnd||!1===T.triggerOnTouchEnd&&Be===w?(!1!==T.preventDefaultEvents&&!1!==e.cancelable&&e.preventDefault(),j(t,Be=P)):!T.triggerOnTouchEnd&&$()?A(t,Be=P,c):Be===w&&j(t,Be=S),X(!1),null}function I(){xe=0,Te=0,ye=0,fe=0,me=0,ke=1,q(),X(!1)}function F(e){var t=e.originalEvent?e.originalEvent:e;T.triggerOnTouchLeave&&j(t,Be=E(P))}function z(){Se.unbind(re,M),Se.unbind(pe,I),Se.unbind(le,C),Se.unbind(he,L),de&&Se.unbind(de,F),X(!1)}function E(e){var t=e,o=K(),i=Q(),n=D();return!o||n?t=S:!i||e!=w||T.triggerOnTouchEnd&&!T.triggerOnTouchLeave?!i&&e==P&&T.triggerOnTouchLeave&&(t=S):t=P,t}function j(e,t){var o,i=e.touches;return(!(!N()||!_())||_())&&(o=A(e,t,d)),(!(!H()||!R())||R())&&!1!==o&&(o=A(e,t,p)),Z()&&U()&&!1!==o?o=A(e,t,u):be>T.longTapThreshold&&ce<k&&T.longTap&&!1!==o?o=A(e,t,g):!(1!==xe&&B||!(isNaN(ce)||ce<T.threshold)||!$())&&!1!==o&&(o=A(e,t,c)),t===S&&I(),t===P&&(i&&i.length||I()),o}function A(t,l,h){var b;if(h==d){if(Se.trigger("swipeStatus",[l,ue||null,ce||0,be||0,xe,Oe,ge]),T.swipeStatus&&!1===(b=T.swipeStatus.call(Se,t,l,ue||null,ce||0,be||0,xe,Oe,ge)))return!1;if(l==P&&N()){if(clearTimeout(Ie),clearTimeout(Fe),Se.trigger("swipe",[ue,ce,be,xe,Oe,ge]),T.swipe&&!1===(b=T.swipe.call(Se,t,ue,ce,be,xe,Oe,ge)))return!1;switch(ue){case o:Se.trigger("swipeLeft",[ue,ce,be,xe,Oe,ge]),T.swipeLeft&&(b=T.swipeLeft.call(Se,t,ue,ce,be,xe,Oe,ge));break;case i:Se.trigger("swipeRight",[ue,ce,be,xe,Oe,ge]),T.swipeRight&&(b=T.swipeRight.call(Se,t,ue,ce,be,xe,Oe,ge));break;case n:Se.trigger("swipeUp",[ue,ce,be,xe,Oe,ge]),T.swipeUp&&(b=T.swipeUp.call(Se,t,ue,ce,be,xe,Oe,ge));break;case s:Se.trigger("swipeDown",[ue,ce,be,xe,Oe,ge]),T.swipeDown&&(b=T.swipeDown.call(Se,t,ue,ce,be,xe,Oe,ge))}}}if(h==p){if(Se.trigger("pinchStatus",[l,we||null,ve||0,be||0,xe,ke,Oe]),T.pinchStatus&&!1===(b=T.pinchStatus.call(Se,t,l,we||null,ve||0,be||0,xe,ke,Oe)))return!1;if(l==P&&H())switch(we){case a:Se.trigger("pinchIn",[we||null,ve||0,be||0,xe,ke,Oe]),T.pinchIn&&(b=T.pinchIn.call(Se,t,we||null,ve||0,be||0,xe,ke,Oe));break;case r:Se.trigger("pinchOut",[we||null,ve||0,be||0,xe,ke,Oe]),T.pinchOut&&(b=T.pinchOut.call(Se,t,we||null,ve||0,be||0,xe,ke,Oe))}}return h==c?l!==S&&l!==P||(clearTimeout(Ie),clearTimeout(Fe),U()&&!Z()?(Le=se(),Ie=setTimeout(e.proxy(function(){Le=null,Se.trigger("tap",[t.target]),T.tap&&(b=T.tap.call(Se,t,t.target))},this),T.doubleTapThreshold)):(Le=null,Se.trigger("tap",[t.target]),T.tap&&(b=T.tap.call(Se,t,t.target)))):h==u?l!==S&&l!==P||(clearTimeout(Ie),clearTimeout(Fe),Le=null,Se.trigger("doubletap",[t.target]),T.doubleTap&&(b=T.doubleTap.call(Se,t,t.target))):h==g&&(l!==S&&l!==P||(clearTimeout(Ie),Le=null,Se.trigger("longtap",[t.target]),T.longTap&&(b=T.longTap.call(Se,t,t.target)))),b}function Q(){var e=!0;return null!==T.threshold&&(e=ce>=T.threshold),e}function D(){var e=!1;return null!==T.cancelThreshold&&null!==ue&&(e=ee(ue)-ce>=T.cancelThreshold),e}function K(){return!(T.maxTimeThreshold&&be>=T.maxTimeThreshold)}function H(){var e=V(),t=W(),o=null===T.pinchThreshold||ve>=T.pinchThreshold;return e&&t&&o}function R(){return!!(T.pinchStatus||T.pinchIn||T.pinchOut)}function N(){var e=K(),t=Q(),o=V(),i=W();return!D()&&i&&o&&t&&e}function _(){return!!(T.swipe||T.swipeStatus||T.swipeLeft||T.swipeRight||T.swipeUp||T.swipeDown)}function V(){return xe===T.fingers||T.fingers===m||!B}function W(){return 0!==Oe[0].end.x}function $(){return!!T.tap}function U(){return!!T.doubleTap}function Z(){if(null==Le)return!1;var e=se();return U()&&e-Le<=T.doubleTapThreshold}function q(){Me=0,Ce=0}function G(){var e=!1;Me&&(se()-Me<=T.fingerReleaseThreshold&&(e=!0));return e}function X(e){Se&&(!0===e?(Se.bind(le,C),Se.bind(he,L),de&&Se.bind(de,F)):(Se.unbind(le,C,!1),Se.unbind(he,L,!1),de&&Se.unbind(de,F,!1)),Se.data(y+"_intouch",!0===e))}function Y(e,t){var o={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return o.start.x=o.last.x=o.end.x=t.pageX||t.clientX,o.start.y=o.last.y=o.end.y=t.pageY||t.clientY,Oe[e]=o,o}function J(e){var t=void 0!==e.identifier?e.identifier:0,o=function(e){return Oe[e]||null}(t);return null===o&&(o=Y(t,e)),o.last.x=o.end.x,o.last.y=o.end.y,o.end.x=e.pageX||e.clientX,o.end.y=e.pageY||e.clientY,o}function ee(e){if(Pe[e])return Pe[e].distance}function te(e){return{direction:e,distance:0}}function oe(){return Te-ye}function ie(e,t){var o=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.round(Math.sqrt(o*o+i*i))}function ne(e,t){if(r=t,(a=e).x==r.x&&a.y==r.y)return l;var a,r,h=function(e,t){var o=e.x-t.x,i=t.y-e.y,n=Math.atan2(i,o),s=Math.round(180*n/Math.PI);return s<0&&(s=360-Math.abs(s)),s}(e,t);return h<=45&&h>=0?o:h<=360&&h>=315?o:h>=135&&h<=225?i:h>45&&h<135?s:n}function se(){return(new Date).getTime()}T=e.extend({},T);var ae=B||O||!T.fallbackToMouseEvents,re=ae?O?x?"MSPointerDown":"pointerdown":"touchstart":"mousedown",le=ae?O?x?"MSPointerMove":"pointermove":"touchmove":"mousemove",he=ae?O?x?"MSPointerUp":"pointerup":"touchend":"mouseup",de=ae?O?"mouseleave":null:"mouseleave",pe=O?x?"MSPointerCancel":"pointercancel":"touchcancel",ce=0,ue=null,ge=null,be=0,fe=0,me=0,ke=1,ve=0,we=0,Pe=null,Se=e(t),Be="start",xe=0,Oe={},ye=0,Te=0,Me=0,Ce=0,Le=0,Ie=null,Fe=null;try{Se.bind(re,M),Se.bind(pe,I)}catch(t){e.error("events not supported "+re+","+pe+" on jQuery.swipe")}this.enable=function(){return this.disable(),Se.bind(re,M),Se.bind(pe,I),Se},this.disable=function(){return z(),Se},this.destroy=function(){z(),Se.data(y,null),Se=null},this.option=function(t,o){if("object"==typeof t)T=e.extend(T,t);else if(void 0!==T[t]){if(void 0===o)return T[t];T[t]=o}else{if(!t)return T;e.error("Option "+t+" does not exist on jQuery.swipe.options")}return null}}var o="left",i="right",n="up",s="down",a="in",r="out",l="none",h="auto",d="swipe",p="pinch",c="tap",u="doubletap",g="longtap",b="horizontal",f="vertical",m="all",k=10,v="start",w="move",P="end",S="cancel",B="ontouchstart"in window,x=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!B,O=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!B,y="TouchSwipe";e.fn.swipe=function(o){var i=e(this),n=i.data(y);if(n&&"string"==typeof o){if(n[o])return n[o].apply(n,Array.prototype.slice.call(arguments,1));e.error("Method "+o+" does not exist on jQuery.swipe")}else if(n&&"object"==typeof o)n.option.apply(n,arguments);else if(!(n||"object"!=typeof o&&o))return function(o){return!o||void 0!==o.allowPageScroll||void 0===o.swipe&&void 0===o.swipeStatus||(o.allowPageScroll=l),void 0!==o.click&&void 0===o.tap&&(o.tap=o.click),o||(o={}),o=e.extend({},e.fn.swipe.defaults,o),this.each(function(){var i=e(this),n=i.data(y);n||(n=new t(this,o),i.data(y,n))})}.apply(this,arguments);return i},e.fn.swipe.version="1.6.18",e.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0},e.fn.swipe.phases={PHASE_START:v,PHASE_MOVE:w,PHASE_END:P,PHASE_CANCEL:S},e.fn.swipe.directions={LEFT:o,RIGHT:i,UP:n,DOWN:s,IN:a,OUT:r},e.fn.swipe.pageScroll={NONE:l,HORIZONTAL:b,VERTICAL:f,AUTO:h},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:m}});
